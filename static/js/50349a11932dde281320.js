!function(){var t,e={4257:function(t){t.exports="/static/logo_black.png"},1080:function(t,e,n){"use strict";var a=n(4240),r=n(5220),i=n(4257),s=n.n(i),o={class:"grid-container"},l=(0,a.Lk)("div",{class:"logo-container"},[(0,a.Lk)("img",{class:"logo",src:s()})],-1);n(1889),n(7996),n(5518),n(1479);var c=n(9565),d=n(9845),h=n(8626),u=function(t){return(0,a.Qi)("data-v-e1db3e30"),t=t(),(0,a.jt)(),t},p={class:"A"},g=u((function(){return(0,a.Lk)("div",{class:"title"}," Disease: ",-1)})),f=u((function(){return(0,a.Lk)("div",{class:"title"}," Primary Gene: ",-1)})),y=u((function(){return(0,a.Lk)("div",{class:"title"}," Partner Gene: ",-1)})),v={class:"gene2-warpper"},m={ref:"tagWrapper",class:"tag-warpper"},_={key:0,class:"tag-text"},x=[u((function(){return(0,a.Lk)("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"},null,-1)})),u((function(){return(0,a.Lk)("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"},null,-1)}))],k=n(296),b=n(467),w=n(4756),A=n.n(w),C=(0,n(7380).A)(),S={data:function(){return{selectedDisease:"",selectedDiseaseGenes:[],geneinput1:"",selectedGeneRelevantGenes:[],columns:[],data:[],geneSet:[],allGenesPredictions:{},knownSLData:{},tags:[],selectedRow:null}},created:function(){this.columns=this.generateColumns(3),this.data=this.generateData(this.columns,50),this.loadAllGenesPredictions(),this.loadAllGenesPredictions_1(),this.loadKnownSLData(),this.loadGeneSet(),this.loadDiseaseData()},mounted:function(){C.on("lassoEnd",this.handleLassoEnd),C.on("clear-bar",this.clearBar),C.on("clear-tag",this.clearTag),C.on("reset-scatterplot",this.handleClear_diseaseinput)},beforeDestroy:function(){C.off("lassoEnd",this.handleLassoEnd),C.off("clear-bar",this.clearBar),C.off("clear-tag",this.clearTag),C.off("reset-scatterplot",this.handleClear_diseaseinput)},methods:{loadDiseaseData:function(){var t=this;return(0,b.A)(A().mark((function e(){var n,a;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("../../../static/Gene_list/disease_dict.json");case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("Failed to load disease_dict.json");case 6:return e.next=8,n.json();case 8:a=e.sent,t.diseases=Object.entries(a).map((function(t){var e=(0,k.A)(t,2),n=e[0],a=e[1];return{value:n.replace(/_/g," "),genes:a}})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error loading disease data:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()},loadGeneSet:function(){var t=this;return(0,b.A)(A().mark((function e(){var n,a;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("../../../static/Gene_list/indexed_gene_set.json");case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("Failed to load gene_set.json");case 6:return e.next=8,n.json();case 8:a=e.sent,t.geneSet=Object.entries(a).map((function(t){var e=(0,k.A)(t,2),n=e[0],a=e[1];return{index:parseInt(n),gene:a}})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error loading Gene set:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()},loadKnownSLData:function(){var t=this;return(0,b.A)(A().mark((function e(){var n;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("../../../static/knownSL/knownSL.json");case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("Failed to load knownSL.json");case 6:return e.next=8,n.json();case 8:t.knownSLData=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error loading knownSL data:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},loadAllGenesPredictions:function(t){var e=this;return(0,b.A)(A().mark((function n(){var a,r,i;return A().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=3;break}return console.log("No fileIndex provided for loadAllGenesPredictions"),n.abrupt("return");case 3:return n.prev=3,a="../../../static/predicted_gene/predicted_gene_".concat(t,".json"),n.next=7,fetch(a);case 7:if((r=n.sent).ok){n.next=10;break}throw new Error("Failed to load ".concat(a));case 10:return n.next=12,r.json();case 12:i=n.sent,e.allGenesPredictions=i,n.next=19;break;case 16:n.prev=16,n.t0=n.catch(3),console.error("Error loading gene predictions data:",n.t0);case 19:case"end":return n.stop()}}),n,null,[[3,16]])})))()},loadAllGenesPredictions_1:function(){var t=this;return(0,b.A)(A().mark((function e(){var n,a,r;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="../../../static/predicted_gene/predicted_gene_all.json",e.next=4,fetch(n);case 4:if((a=e.sent).ok){e.next=7;break}throw new Error("Failed to load ".concat(n));case 7:return e.next=9,a.json();case 9:r=e.sent,t.allGenesPredictions=r,C.emit("allGenesPredictions",t.allGenesPredictions),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("Error loading gene predictions data:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))()},updateRelevantGenes:function(t){var e=this.allGenesPredictions[t];if(e){var n=e.map((function(t){return{gene:t.geneb,score:t.score}}));this.selectedGeneRelevantGenes=n}else this.selectedGeneRelevantGenes=[]},querySearch:function(t,e){e(this.diseases.filter((function(e){return e.value.toLowerCase().includes(t.toLowerCase())})).map((function(t){return{value:t.value}})))},handleGeneChange_diseaseinput:function(t){C.emit("clear-highlight1-packchart"),this.handleClear_diseaseinput(t.value),this.selectedDisease=t.value;var e=this.diseases.find((function(e){return e.value===t.value}));this.selectedDiseaseGenes=e?e.genes:[],C.emit("highlight-disease-genes-radar",this.knownSLData),C.emit("highlight-disease-genes",e.genes)},querySearchGeneInput:function(t,e){e((this.selectedDisease?this.selectedDiseaseGenes.filter((function(e){return e.toLowerCase().includes(t.toLowerCase())})):this.geneSet.filter((function(e){return e.gene.toLowerCase().includes(t.toLowerCase())})).map((function(t){return t.gene}))).map((function(t){return{value:t}})))},handleGeneChange_geneinput1:function(t){var e=this;return(0,b.A)(A().mark((function n(){var a,r,i;return A().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.clearTag(),e.geneinput1=t.value,e.geneSet.find((function(e){return e.gene===t.value}))){n.next=6;break}return console.error("Selected gene not found in gene set"),n.abrupt("return");case 6:return n.next=8,e.loadAllGenesPredictions_1();case 8:a=e.allGenesPredictions[t.value],e.selectedGeneRelevantGenes=a?a.map((function(t,e){return{gene:t.geneb,score:Math.round(100*t.score)/100,rank:e+1}})):[],e.data=e.generateData(e.columns,50),r=e.selectedGeneRelevantGenes.map((function(t){return{gene:t.gene,score:t.score,rank:t.rank}})),i=e.knownSLData[t.value]||[],C.emit("highlight-known-genes",i),C.emit("highlight-relevant-genes",r),C.emit("highlight-relevant-known",{relevantGenes:r,knownGenes:i}),C.emit("highlight-gene1",t.value),C.emit("show-kg",t.value);case 18:case"end":return n.stop()}}),n)})))()},handleClear_diseaseinput:function(t){this.selectedDisease="",this.selectedDiseaseGenes=[],this.geneinput1="",this.clearTag(),this.selectedGeneRelevantGenes=[],this.data=[],C.emit("clear-highlightDisease",t),C.emit("clear-highlight1-1",this.selectedDiseaseGenes),C.emit("clear-highlight1-packchart"),C.emit("clear-highlight1"),C.emit("clear-highlight2"),C.emit("clear-kg")},handleClear_geneinput1:function(){this.data=[],C.emit("clear-highlight1-packchart"),this.clearTag(),C.emit("clear-highlight1-1",this.selectedDiseaseGenes),this.selectedGeneRelevantGenes=[],C.emit("clear-kg")},handleClear_geneinput2:function(){this.clearTag(),this.data=this.generateData(this.columns,50),C.emit("clear-highlight2")},generateColumns:function(){return[{key:"candidates",dataKey:"candidates",title:"Candidates",width:150},{key:"score",dataKey:"score",title:"Score",width:150},{key:"rank",dataKey:"rank",title:"Rank",width:150}]},generateData:function(t,e){var n=this.selectedGeneRelevantGenes.sort((function(t,e){return e.score-t.score})),a=this.knownSLData[this.geneinput1]||[];return n.slice(0,e).map((function(t,e){var n=a.includes(t.gene);return{id:"row-".concat(e),Genes:t.gene,Score:t.score,Rank:e+1,isBold:n}}))},handleCurrentChange:function(t){t&&t.Genes&&(this.tags.some((function(e){return e.name===t.Genes}))||(this.tags.push({name:t.Genes,type:"primary"}),this.emitSelectedGenes()))},clearBar:function(){this.geneinput1="",this.data=[],this.clearTag()},clearTag:function(){this.tags=[],this.emitSelectedGenes()},removeTag:function(t){this.tags=this.tags.filter((function(e){return e.name!==t})),this.emitSelectedGenes()},emitSelectedGenes:function(){var t=this,e=this.tags.map((function(e){console.log(t.selectedGeneRelevantGenes);var n=t.selectedGeneRelevantGenes.find((function(t){return t.gene===e.name}));return{name:e.name,score:n.score,rank:n.rank}}));console.log(e),C.emit("highlight-gene2",e)},handleRowClick:function(t){var e=this;t&&(this.selectedRow=null,this.$nextTick((function(){e.selectedRow=t})))},tableRowClassName:function(t){return t.row.isBold?"bold-row":""},handleLassoEnd:function(t){var e=this;console.log(this.geneinput1),this.clearTag(),console.log("aaa"),t.forEach((function(t){e.tags.some((function(e){return e.name===t}))||e.tags.push({name:t,type:"primary"})})),this.emitSelectedGenes()}}},G=n(6262);const L=(0,G.A)(S,[["render",function(t,e,n,r,i,s){var o=h.s9,l=d.u,u=c.o8,k=c.Up;return(0,a.uX)(),(0,a.CE)("div",p,[g,(0,a.bF)(o,{modelValue:t.selectedDisease,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.selectedDisease=e}),class:"SearchBar",placeholder:"Choose a Disease","fetch-suggestions":t.querySearch,clearable:"",onSelect:t.handleGeneChange_diseaseinput,onClear:t.handleClear_diseaseinput},null,8,["modelValue","fetch-suggestions","onSelect","onClear"]),f,(0,a.bF)(o,{modelValue:t.geneinput1,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.geneinput1=e}),class:"SearchBar",placeholder:"Gene Name","fetch-suggestions":t.querySearchGeneInput,clearable:"",onSelect:t.handleGeneChange_geneinput1,onClear:t.handleClear_geneinput1},null,8,["modelValue","fetch-suggestions","onSelect","onClear"]),y,(0,a.Lk)("div",v,[(0,a.Lk)("div",m,[0===t.tags.length?((0,a.uX)(),(0,a.CE)("div",_," Relevant Genes ")):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.tags,(function(e){return(0,a.uX)(),(0,a.Wv)(l,{key:e.name,class:"tag",closable:"",type:e.type,round:"",onClose:function(n){return t.removeTag(e.name)}},{default:(0,a.k6)((function(){return[(0,a.eW)((0,a.v_)(e.name),1)]})),_:2},1032,["type","onClose"])})),128)),t.tags.length>0?((0,a.uX)(),(0,a.CE)("svg",{key:1,class:"clear-tags-button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024","data-v-ea893728":"",onClick:e[2]||(e[2]=function(){return t.clearTag&&t.clearTag.apply(t,arguments)})},x)):(0,a.Q3)("",!0)],512)]),(0,a.bF)(k,{data:t.data,width:360,height:212,"row-class-name":t.tableRowClassName,onRowClick:t.handleRowClick,onCurrentChange:t.handleCurrentChange},{default:(0,a.k6)((function(){return[(0,a.bF)(u,{prop:"Genes",label:"Genes",width:"118"}),(0,a.bF)(u,{prop:"Score",label:"Score",width:"119"}),(0,a.bF)(u,{prop:"Rank",label:"Rank",width:"118"})]})),_:1},8,["data","row-class-name","onRowClick","onCurrentChange"])])}],["__scopeId","data-v-e1db3e30"]]);var D=L,E={class:"C"},T=[(0,a.Fv)('<div class="scatterplot-title" data-v-2b4c75c9> Model Log <div class="legends" data-v-2b4c75c9><span class="legend-node" style="color:#ffdfd3;opacity:0.5;" data-v-2b4c75c9> ■ </span><span class="legend-text" data-v-2b4c75c9> Recall</span><span class="legend-node" style="color:#b4aee8;opacity:0.5;" data-v-2b4c75c9> ■ </span><span class="legend-text" data-v-2b4c75c9> NDCG</span><span class="legend-node" style="color:#98ddca;opacity:0.5;" data-v-2b4c75c9> ■ </span><span class="legend-text" data-v-2b4c75c9> Precision</span></div></div><svg id="bar-chart" width="348" height="260" data-v-2b4c75c9></svg><div id="tooltip" data-v-2b4c75c9></div>',3)],M={mounted:function(){this.loadData()},methods:{name:"bar-chart",loadData:function(){var t=this;return(0,b.A)(A().mark((function e(){var n,a;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("../static/Model/model_performance copy.json");case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("Network response was not ok");case 6:return e.next=8,n.json();case 8:a=e.sent,t.drawBarChart(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Could not load data: ",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()},drawBarChart:function(t){var e=d3.select("#bar-chart"),n=Math.min(30*t.length,240),a=[];t[0].indicators.forEach((function(e,n){var r=d3.max(t,(function(t){return t.indicators[n]}));a.push(r)}));var r=[0,90,180],i=d3.scaleBand().rangeRound([0,n]).paddingInner(.4).domain(t.map((function(t){return t.Model}))),s=d3.scaleOrdinal().range(["#f3c4fb","#b4aee8","#98ddca","#ffdfd3","#ffd3b4","#d3e0ea","#aeecef"]),o=e.append("g").attr("transform","translate(".concat(80,",").concat(15,")")),l=d3.select("#tooltip");t.forEach((function(t){t.indicators.forEach((function(e,n){var c=e/a[n]*80,d=o.append("rect").attr("y",i(t.Model)).attr("x",r[n]).attr("height",i.bandwidth()).attr("width",c).attr("fill",s(n));d.attr("rx",0).attr("ry",0),d.on("mouseover",(function(){l.style("visibility","visible").text("".concat(t.Model,", Value: ").concat(e))})).on("mousemove",(function(){l.style("top",event.pageY-10+"px").style("left",event.pageX+10+"px")})).on("mouseout",(function(){l.style("visibility","hidden")}))}))})),o.append("g").attr("class","axis axis--y").call(d3.axisLeft(i).tickPadding(20)).selectAll(".tick text").style("text-anchor","start").attr("x",-70).style("pointer-events","none"),o.select(".axis--y .domain").remove(),o.selectAll(".axis--y .tick line").remove()}}},F=(0,G.A)(M,[["render",function(t,e,n,r,i,s){return(0,a.uX)(),(0,a.CE)("div",E,T)}],["__scopeId","data-v-2b4c75c9"]]),P=(n(7020),n(367)),R=function(t){return(0,a.Qi)("data-v-f7bf2a72"),t=t(),(0,a.jt)(),t},j={class:"container"},H=(0,a.Fv)('<div id="scatterplot_title" class="scatterplot-title" data-v-f7bf2a72> Data Modifier <div class="legends" data-v-f7bf2a72><span class="legend-node" style="color:#9ECA80;opacity:0.5;" data-v-f7bf2a72> ■ </span><span class="legend-text" data-v-f7bf2a72> Gene</span><span class="legend-node" style="color:#FFC488;opacity:0.5;" data-v-f7bf2a72> ■ </span><span class="legend-text" data-v-f7bf2a72> CC</span><span class="legend-node" style="color:#98CAF7;opacity:0.5;" data-v-f7bf2a72> ■ </span><span class="legend-text" data-v-f7bf2a72> BP</span><span class="legend-node" style="color:#F7A8C3;opacity:0.5;" data-v-f7bf2a72> ■ </span><span class="legend-text" data-v-f7bf2a72> MF</span><span class="legend-node" style="color:#CDC0DB;opacity:0.5;" data-v-f7bf2a72> ■ </span><span class="legend-text" data-v-f7bf2a72> Pathway</span></div></div>',1),I={class:"content"},B=(0,a.Fv)('<div class="left-content" data-v-f7bf2a72><svg width="357" height="40" data-v-f7bf2a72><rect x="0" y="5" width="357" height="30" style="fill:none;stroke:#a0a0a0;stroke-width:1;" data-v-f7bf2a72></rect><text x="50%" y="20" alignment-baseline="middle" text-anchor="middle" data-v-f7bf2a72>KG Graph</text></svg><div id="radial-tree" data-v-f7bf2a72></div></div>',1),X={class:"right-content"},N=(0,a.Fv)('<svg width="884" height="40" data-v-f7bf2a72><rect x="0" y="5" width="884" height="30" style="fill:none;stroke:#a0a0a0;stroke-width:1;" data-v-f7bf2a72></rect><text x="80" y="20" alignment-baseline="middle" text-anchor="middle" data-v-f7bf2a72>Source</text><text x="346.67" y="20" alignment-baseline="middle" text-anchor="middle" data-v-f7bf2a72>Relation</text><text x="613.33" y="20" alignment-baseline="middle" text-anchor="middle" data-v-f7bf2a72>Target</text></svg>',1),z=R((function(){return(0,a.Lk)("div",{class:"scrollbar-flex-content"},[(0,a.Lk)("div",{id:"data-modifier",class:"data-modifier"},[(0,a.Lk)("div",{id:"metapaths",class:"metapaths"})])],-1)})),O=n(5819),Y={CC:"#FFC488",BP:"#98CAF7",MF:"#F7A8C3",Gene:"#9ECA80",Pathway:"#CDC0DB"},V={Gene:"#9ECA80",MF:"#F7A8C3",BP:"#98CAF7",CC:"#FFC488",Pathway:"#CDC0DB"};function q(t){var e=t.data.entity_type,n=t.data.target_type;return e&&Y[e]?Y[e]:n&&Y[n]?Y[n]:"#999"}var K={name:"PieChart",data:function(){return{isDataLoaded:!1,selectedNodeIds:{0:null,1:null,2:null},nodesData:[],factFullTypeData:[],pieChartClickStates:{0:!1,1:!1,2:!1},pathClickStates:{2:!1,4:!1},treeData:[],addedMetapath:new Set,relations:{},svgIdCounter:0,jsonData:null,KGlinksource:null,lines:[],highlighted:{nodes:[],links:[]},highlighted_links:[],lineCount:0,clickCount:0}},mounted:function(){var t=this;this.fetchDataAndDrawTree(),C.on("show-kg",(function(e){t.fetchDataAndDrawTree(e)})),C.on("clear-kg",this.clearkg),this.loadFactFullTypeData(),C.on("path-selected",this.handleNodeSelected);var e=this.$refs.scrollContainer.$el.querySelector(".el-scrollbar__wrap");e&&e.addEventListener("scroll",this.handleScroll)},beforeDestroy:function(){C.off("show-kg",this.fetchDataAndDrawTree),C.off("clear-kg",this.clearkg),C.off("path-selected",this.handleNodeSelected);var t=this.$refs.scrollContainer.$el.querySelector(".el-scrollbar__wrap");t&&t.removeEventListener("scroll",this.handleScroll)},methods:{fetchDataAndDrawTree:function(t){var e=this;fetch("../../../static/KG/facts_full_type_index.json").then((function(t){return t.json()})).then((function(n){e.jsonData=n,e.relations={},n.forEach((function(t){e.relations[t.index]=t.relation}));var a=t;e.treeData=e.transformData(n,a),e.drawRadialTree(e.treeData),e.isDataLoaded=!0}))},transformData:function(t,e){var n={},a=[];if(t.forEach((function(t){var e=t.entity,r=t.relation,i=t.target,s=t.entity_type,o=t.target_type,l=t.index;n[e]||(n[e]={id:e,name:e,children:[],depth:1/0,entity_type:s,index:l}),n[i]||(n[i]={id:i,name:i,children:[],depth:1/0,target_type:o,index:l}),a.push({source:e,target:i,relation:r,index:l})})),!n[e])return console.log("rootEntity not found in nodes:",e),null;n[e].depth=0;for(var r=[n[e]],i=function(){var t=r.shift();a.forEach((function(e){if(e.source===t.id){var a=n[e.target];t.depth+1<a.depth&&(a.depth=t.depth+1,a.depth<2&&r.push(a))}}))};r.length>0;)i();return a.forEach((function(t){var e=n[t.source],a=n[t.target];a.depth===e.depth+1&&(1!==e.depth||"FARSA"!==e.id&&"FARSA"!==a.id||"Gene"==a.entity_type||"Gene"==a.target_type?(1!==e.depth||"Gene"!==e.entity_type&&"Gene"!==e.target_type||"Gene"!==a.target_type&&"Gene"!==a.entity_type)&&(0!==e.depth||"FARSA"==a.id||"Pathway"!==a.entity_type&&"Pathway"!==a.target_type||"cellular_response_to_dopamine"==a.id?1!==e.depth||"FARSA"==e.id||"Pathway"!==a.entity_type&&"Pathway"!==a.target_type||"cellular_response_to_dopamine"==a.id?0!==e.depth||"FARSA"==e.id||"BP"!==a.entity_type&&"BP"!==a.target_type||"cellular_response_to_dopamine"==a.id?1===e.depth&&"FARSA"!=e.id&&"Gene"===e.entity_type&&"cellular_response_to_dopamine"!=e.id?!e.children.includes(a)&&Math.random()>.9&&e.children.push(a):e.children.includes(a)||e.children.push(a):!e.children.includes(a)&&Math.random()>.6&&e.children.push(a):!e.children.includes(a)&&Math.random()>.8&&e.children.push(a):!e.children.includes(a)&&Math.random()>.9&&e.children.push(a)):e.children.includes(a)||e.children.push(a))})),Object.values(n).forEach((function(t){1!==t.depth&&2!==t.depth||t.children.sort((function(t,e){var n=t.target_type||"",a=e.target_type||"";return n.localeCompare(a)}))})),n[e]},drawRadialTree:function(t){var e=this;if(this.isDataLoaded){var n=Math.min(357,460)/2+160;O.select("#radial-tree").html("");var a=O.select("#radial-tree").append("svg").attr("class","tree-svg").attr("width",357).attr("height",460).attr("viewBox",[-60,-245,357,490]).append("g").attr("class","tree"),r=O.tree().size([Math.PI,n-100]).separation((function(t,e){return(t.parent==e.parent?1:2)/t.depth})),i=O.hierarchy(t);r(i);var s=O.linkRadial().angle((function(t){return t.x})).radius((function(t){return t.y})),o=O.arc().startAngle(0).endAngle(Math.PI),l={1:{inner:n-220,outer:n-218},2:{inner:n-101,outer:n-99}};[1,2].forEach((function(t){var e=l[t],n=e.inner,r=e.outer;a.append("path").attr("d",o.innerRadius(n).outerRadius(r)).attr("fill","lightgrey").attr("stroke-opacity",.1)})),a.selectAll(".link").data(i.links()).enter().append("path").attr("class","link").attr("ishighlighted-hover","false").attr("ishighlighted-click","false").attr("d",s).attr("stroke","grey").attr("stroke-width",2).attr("fill","none").attr("stroke-opacity",0);var c=a.selectAll(".node").data(i.descendants()).enter().append("g").attr("class","node").attr("transform",(function(t){return"rotate(".concat(180*t.x/Math.PI-90,")translate(").concat(t.y,",0)")})),d=-340;c.append("circle").attr("class","node-1").attr("r",(function(t){return 0===t.depth?5:3})).attr("fill",(function(t){return 0===t.depth?q(t):t.children?"#FFFFFF":q(t)})).attr("stroke",(function(t){return q(t)})).attr("stroke-width",2).attr("stroke-opacity",.3).on("mouseenter",(function(t){function n(t,e,n,a,r){var i=Math.cos(t.x-Math.PI/2)*t.y,s=Math.sin(t.x-Math.PI/2)*t.y,o="tooltip-".concat(t.data.name);O.select("body").append("div").attr("class","tooltip").attr("id",o).html(t.data.name).style("left",(i+e)*a+"px").style("top",(s+n)*r+"px").transition().duration(200).style("opacity",1).style("width","500px").style("text-align","left").style("background","rgba(0, 0, 0, 0)")}O.selectAll(".tooltip").remove(),n(t,443,915,1,.94),t.parent&&(n(t.parent,445,863,1,1),t.parent.parent&&n(t.parent.parent,450,863,1,1)),function(t){for(var n=[],r=[],i=t;i;){if(n.push(i),i.parent){var s=e.jsonData.find((function(t){return t.entity===i.parent.data.id&&t.target===i.data.id})),o=s?s.index:null;r.push({source:i.parent.data.id,target:i.data.id,index:o})}i=i.parent}a.selectAll(".link").attr("ishighlighted-hover",(function(t){var n=r.find((function(e){return e.source===t.source.data.id&&e.target===t.target.data.id})),a=e.highlighted_links.some((function(e){return e[0]===t.source.data.id&&e[1]===t.target.data.id}));return n||a?"true":"false"})).attr("stroke-opacity",(function(t){var n=r.find((function(e){return e.source===t.source.data.id&&e.target===t.target.data.id})),a=e.highlighted_links.some((function(e){return e[0]===t.source.data.id&&e[1]===t.target.data.id}));return n||a?.3:0})).attr("stroke-width",(function(t){return r.find((function(e){return e.source===t.source.data.id&&e.target===t.target.data.id})),e.highlighted.links.some((function(e){return e.index===t.index})),2})),a.selectAll(".node-1").attr("stroke-opacity",(function(t){return n.includes(t)?1:.3}))}(t),O.select(this).attr("stroke-opacity",1)})).on("mouseleave",(function(){O.selectAll(".tooltip").remove(),O.selectAll(".link").filter((function(){var t=O.select(this);return"true"===t.attr("ishighlighted-hover")&&"false"===t.attr("ishighlighted-click")})).attr("stroke-opacity",0).attr("stroke-width",2).attr("ishighlighted-hover","false"),O.selectAll(".node-1").attr("stroke-opacity",.3)})).on("click",(function(t){e.clickCount++;var n=function(t){for(var n=[],r=[],i=t;i;){if(n.push(i),i.parent){var s=e.jsonData.find((function(t){return t.entity===i.parent.data.id&&t.target===i.data.id})),o=s?s.index:null;r.push({source:i.parent.data.id,target:i.data.id,index:o})}i=i.parent}return a.selectAll(".link").attr("ishighlighted-click",(function(t){var n=r.find((function(e){return e.source===t.source.data.id&&e.target===t.target.data.id})),a=e.highlighted_links.some((function(e){return e[0]===t.source.data.id&&e[1]===t.target.data.id}));return n||a?"true":"false"})).filter((function(){return"false"===O.select(this).attr("ishighlighted-click")})).attr("stroke-opacity",(function(t){var n=r.find((function(e){return e.source===t.source.data.id&&e.target===t.target.data.id})),a=e.highlighted_links.some((function(e){return e[0]===t.source.data.id&&e[1]===t.target.data.id}));return n||a?.3:0})).attr("stroke-width",(function(t){return r.find((function(e){return e.source===t.source.data.id&&e.target===t.target.data.id})),e.highlighted.links.some((function(e){return e.index===t.index})),2})),a.selectAll(".node-1").attr("stroke-opacity",(function(t){return n.includes(t)?1:.3})),{nodes:n,links:r}}(t);C.emit("path-selected",n);var r={x:Math.cos(t.x-Math.PI/2)*t.y-4,y:Math.sin(t.x-Math.PI/2)*t.y};n.links.forEach((function(t){e.highlighted_links.push([t.source,t.target,t.index]),e.highlighted.links.push(t)})),n.nodes.forEach((function(t){e.highlighted.nodes.push(t)}));var i=[];if(1===t.depth){var s=d+177;i.push({x:312,y:s}),d=s}else if(2===t.depth){var o=d+177,l=o+177;i.push({x:312,y:o},{x:312,y:l}),d=l}i.forEach((function(t){var n=t.y- -170,a="line-".concat(1+e.lineCount++),i="link-click-count-".concat(e.clickCount);e.lines.push({source:r,target:t,lineClassId:a,lineId:i,baseYOffset:n})})),e.redrawAllLines()})),c.append("text").attr("class","kg-text").attr("dy","0.31em").attr("x",(function(t){return t.x<Math.PI==!t.children?10:-10})).attr("text-anchor",(function(t){return t.x<Math.PI==!t.children?"start":"end"})).text((function(t){return t.data.name})).attr("visibility","hidden").style("user-select","none").attr("transform",(function(t){return"rotate(".concat(-(180*t.x/Math.PI-90),")")}))}},handleScroll:function(t){var e=t.target.scrollTop;this.lines=this.lines.map((function(t){return t.target.y=-170-1.13*e+t.baseYOffset,t})),this.redrawAllLines()},redrawAllLines:function(){var t=this;this.lines.forEach((function(e){t.drawKGlink(e)}))},drawKGlink:function(t){var e=t.source,n=t.target,a=t.lineClassId,r=t.lineId,i=O.select(".tree-svg"),s=i.select(".".concat(a));s.empty()&&(s=i.append("path").attr("class","".concat(a)).attr("id","".concat(r)));var o={x:(e.x+n.x)/2,y:e.y-10};s.attr("d","M".concat(e.x+8,",").concat(e.y," Q").concat(o.x,",").concat(o.y," ").concat(n.x,",").concat(n.y)).attr("stroke","grey").attr("stroke-width",2).attr("fill","none").attr("stroke-opacity",n.y>=-245&&n.y<=350?.3:0)},clearkg:function(){O.select("#radial-tree").html("")},loadFactFullTypeData:function(){var t=this;fetch("../../../static/KG/facts_full_type.json").then((function(t){return t.json()})).then((function(e){t.factFullTypeData=e})).catch((function(t){return console.error("Error loading the fact_full_type.json:",t)}))},handleNodeSelected:function(t){var e=this;this.nodesData=t.nodes,t.nodes.forEach((function(t){t.data.depth>=0&&t.data.depth<=2&&(e.selectedNodeIds[t.data.depth.toString()]=t.data.id)})),this.linksData=t.links,2==this.nodesData.length&&this.renderChart(this.nodesData,this.linksData[0]),3==this.nodesData.length&&(this.renderChart([this.nodesData[1],this.nodesData[2]],this.linksData[1]),this.renderChart([this.nodesData[0],this.nodesData[1]],this.linksData[0]))},calculateRelativeProportionsStart:function(t,e,n){var a={};return console.log(n),this.factFullTypeData.forEach((function(e){e.entity_type===t&&(e.entity in a?a[e.entity]+=1:a[e.entity]=1)})),a},calculateRelativeProportionsEnd:function(t,e,n){var a={};return this.factFullTypeData.forEach((function(t){t.target_type===n&&(t.target in a?a[t.target]+=1:a[t.target]=1)})),a},calculateEntityProportions:function(t,e){var n,a=0,r=0;if("entity"===e){a=this.factFullTypeData.reduce((function(e,n){return n.entity===t&&(e+=1),e}),0);var i=this.factFullTypeData.find((function(e){return e.entity===t}));i&&(n=i.entity_type)}else if("target"===e){a=this.factFullTypeData.reduce((function(e,n){return n.target===t&&(e+=1),e}),0);var s=this.factFullTypeData.find((function(e){return e.target===t}));s&&(n=s.target_type)}return n&&(r=this.factFullTypeData.reduce((function(t,a){return("entity"===e&&a.entity_type===n||"target"===e&&a.target_type===n)&&(t+=1),t}),0)),[{name:t,value:a},{name:"Other",value:r}]},abbreviateText:function(t,e){return t.length>e?t.substring(0,e)+"...":t},handleSubmit:function(t){C.emit("selected-metapath",t)},count_metapath:function(t,e,n){var a=this;return(0,b.A)(A().mark((function r(){var i,s,o,l,c,d,h,u,p;return A().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch("../../../static/KG/entities.json");case 3:if((i=r.sent).ok){r.next=6;break}throw new Error("Network response was not ok");case 6:return r.next=8,i.json();case 8:return s=r.sent,o=0,l=0,c=0,d=0,h=0,u=0,p=0,a.factFullTypeData.forEach((function(a){a.entity_type===s[t].category&&a.target_type===s[n].category&&(o+=1),a.entity===t&&a.target_type===s[n].category&&(l+=1),a.entity_type===s[t].category&&a.relation===e&&a.target_type===s[n].category&&(c+=1),a.entity_type===s[t].category&&a.target===n&&(d+=1),a.entity===t&&a.relation===e&&a.target_type===s[n].category&&(h+=1),a.entity===t&&a.target===n&&(u+=1),a.entity_type===s[t].category&&a.relation===e&&a.target===n&&(p+=1)})),r.abrupt("return",[o,l,c,d,h,u,p]);case 20:r.prev=20,r.t0=r.catch(0),console.log(r.t0);case 23:case"end":return r.stop()}}),r,null,[[0,20]])})))()},runAnalysis:function(t,e,n){var a=this;return(0,b.A)(A().mark((function r(){var i;return A().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a.count_metapath(t,e,n);case 3:i=r.sent,a.data_0_0_0=i[0],a.data_1_0_0=i[1],a.data_0_1_0=i[2],a.data_0_0_1=i[3],a.data_1_1_0=i[4],a.data_1_0_1=i[5],a.data_0_1_1=i[6],r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),console.error(r.t0);case 16:case"end":return r.stop()}}),r,null,[[0,13]])})))()},renderChart:function(t,e){var n=this;return(0,b.A)(A().mark((function a(){var r,i,s,o,l,c,d,h,u,p,g,f,y,v,m,_,x,k,b,w,C,S,G,L,D,E,T,M,F,P,R,j,H,I,B,X,N,z,Y,q,K,U,W,$,Q,Z,J,tt,et,nt,at,rt,it,st,ot,lt,ct,dt,ht,ut,pt,gt,ft,yt,vt,mt,_t,xt,kt,bt,wt,At,Ct,St,Gt,Lt,Dt,Et,Tt,Mt,Ft,Pt,Rt,jt,Ht,It,Bt,Xt,Nt,zt,Ot,Yt,Vt,qt,Kt,Ut,Wt,$t,Qt,Zt,Jt,te,ee,ne,ae,re,ie,se,oe,le,ce,de,he,ue,pe;return A().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(ce=function(t){t.sort(O.ascending);var e=O.quantile(t,.25),n=O.quantile(t,.5),a=O.quantile(t,.75);return{min:O.min(t),q1:e,median:n,q3:a,max:O.max(t)}},it=function(t){return at.get(t)},rt=function(t){at.set(t,{points:[],points2:[],points3:[],points3_1:[],points4:[],points4_1:[]})},nt=function(t,e){var n=t.filter((function(t){return 1===t})).length,a=-1,r=O.select("#"+e);if(0===n){r.selectAll(".bar-full, .lineClass").attr("visibility","visible"),r.selectAll(".bar-top, .bar-bottom, .rightline_2_1, .rightline_2_2, .rightline_1, .rightline_2, .inner-bar-2, .rightline_1_text, .rightline_2_text, .rightline_2_1_text, .rightline_2_2_text").attr("visibility","hidden");var i=(l-40)*(a=1);r.select(".inner-bar").transition().duration(500).attr("y",l-20-i).attr("height",i),r.select(".inner-bar-2").transition().duration(500).attr("y",l-20-i).attr("height",i),Pt[3][1]=85-i,r.select("#path-3").datum(it(e).points3).attr("d",gt),Rt[3][1]=85-i,r.select("#path-3-2").datum(it(e).points3_1).attr("d",gt),it(e).points4[0][1]=85-(l-40)*a,it(e).points4_1[0][1]=85-(l-40)*a,it(e).points4[3][1]=85-(l-40)*a,it(e).points4_1[3][1]=85-(l-40)*a,it(e).points4[1]=[(it(e).points4[0][0]+it(e).points4[3][0])/2-10,(it(e).points4[0][1]+it(e).points4[3][1])/2],it(e).points4[2]=[(it(e).points4[0][0]+it(e).points4[3][0])/2+10,(it(e).points4[0][1]+it(e).points4[3][1])/2],it(e).points4_1[1]=[(it(e).points4_1[0][0]+it(e).points4_1[3][0])/2-10,(it(e).points4_1[0][1]+it(e).points4_1[3][1])/2],it(e).points4_1[2]=[(it(e).points4_1[0][0]+it(e).points4_1[3][0])/2+10,(it(e).points4_1[0][1]+it(e).points4_1[3][1])/2],r.select("#path-4").datum(it(e).points4).style("stroke-dasharray","none").attr("d",Ht),r.select("#path-4-2").datum(it(e).points4_1).style("stroke-dasharray","none").attr("d",Ht)}if(1===n){if(r.selectAll(".bar-full, .lineClass, .rightline_1, .rightline_2, .rightline_1_text, .rightline_2_text").attr("visibility","visible"),r.selectAll(".bar-top, .bar-bottom, .rightline_2_1, .rightline_2_2, .rightline_2_1, .rightline_2_2 .right-inner-bar-bottom, .right-inner-bar-top, .right-inner-bar-bottom, .right-inner-bar-top, .inner-bar-2, .rightline_2_1_text, .rightline_2_2_text").attr("visibility","hidden"),1===t[0]){a=P;var s=H[0],o=H[1];et("rightline_1",s,"LLH",T[0].color),et("rightline_2",o,"LHL",T[0].color);var c=(l-40)*a;r.select(".inner-bar").transition().duration(500).attr("y",l-20-c).attr("height",c),r.select(".inner-bar-2").transition().duration(500).attr("y",l-20-c).attr("height",c),it(e).points3[3][1]=85-c,it(e).points3_1[3][1]=85-c,it(e).points3[1]=[(it(e).points3[0][0]+it(e).points3[3][0])/2-10,(it(e).points3[0][1]+it(e).points3[3][1])/2],it(e).points3[2]=[(it(e).points3[0][0]+it(e).points3[3][0])/2+10,(it(e).points3[0][1]+it(e).points3[3][1])/2],it(e).points3_1[1]=[(it(e).points3_1[0][0]+it(e).points3_1[3][0])/2-10,(it(e).points3_1[0][1]+it(e).points3_1[3][1])/2],it(e).points3_1[2]=[(it(e).points3_1[0][0]+it(e).points3_1[3][0])/2+10,(it(e).points3_1[0][1]+it(e).points3_1[3][1])/2],r.select("#path-3").datum(it(e).points3).attr("d",gt),r.select("#path-3-2").datum(it(e).points3_1).attr("d",gt),it(e).points4[0][1]=85-c,it(e).points4_1[0][1]=85-c,it(e).points4[3][1]=85-(l-40)*s,it(e).points4_1[3][1]=85-(l-40)*o,it(e).points4[1]=[(it(e).points4[0][0]+it(e).points4[3][0])/2-10,(it(e).points4[0][1]+it(e).points4[3][1])/2],it(e).points4[2]=[(it(e).points4[0][0]+it(e).points4[3][0])/2+10,(it(e).points4[0][1]+it(e).points4[3][1])/2],it(e).points4_1[1]=[(it(e).points4_1[0][0]+it(e).points4_1[3][0])/2-10,(it(e).points4_1[0][1]+it(e).points4_1[3][1])/2],it(e).points4_1[2]=[(it(e).points4_1[0][0]+it(e).points4_1[3][0])/2+10,(it(e).points4_1[0][1]+it(e).points4_1[3][1])/2],r.select("#path-4").datum(it(e).points4).style("stroke-dasharray","5, 5").attr("d",Ht),r.select("#path-4-2").datum(it(e).points4_1).style("stroke-dasharray","5, 5").attr("d",Ht)}if(1===t[1]){a=R;var d=I[0],h=I[1];et("rightline_1",d,"LLH",T[2].color),et("rightline_2",h,"HLL",T[2].color);var p=(l-40)*a;r.select(".inner-bar").transition().duration(500).attr("y",l-20-p).attr("height",p),r.select(".inner-bar-2").transition().duration(500).attr("y",l-20-p).attr("height",p),it(e).points3[3][1]=85-p,it(e).points3_1[3][1]=85-p,it(e).points3[1]=[(it(e).points3[0][0]+it(e).points3[3][0])/2-10,(it(e).points3[0][1]+it(e).points3[3][1])/2],it(e).points3[2]=[(it(e).points3[0][0]+it(e).points3[3][0])/2+10,(it(e).points3[0][1]+it(e).points3[3][1])/2],it(e).points3_1[1]=[(it(e).points3_1[0][0]+it(e).points3_1[3][0])/2-10,(it(e).points3_1[0][1]+it(e).points3_1[3][1])/2],it(e).points3_1[2]=[(it(e).points3_1[0][0]+it(e).points3_1[3][0])/2+10,(it(e).points3_1[0][1]+it(e).points3_1[3][1])/2],r.select("#path-3").datum(it(e).points3).attr("d",gt),r.select("#path-3-2").datum(it(e).points3_1).attr("d",gt),it(e).points4[0][1]=85-p,it(e).points4_1[0][1]=85-p,it(e).points4[3][1]=85-(l-40)*d,it(e).points4_1[3][1]=85-(l-40)*h,it(e).points4[1]=[(it(e).points4[0][0]+it(e).points4[3][0])/2-10,(it(e).points4[0][1]+it(e).points4[3][1])/2],it(e).points4[2]=[(it(e).points4[0][0]+it(e).points4[3][0])/2+10,(it(e).points4[0][1]+it(e).points4[3][1])/2],it(e).points4_1[1]=[(it(e).points4_1[0][0]+it(e).points4_1[3][0])/2-10,(it(e).points4_1[0][1]+it(e).points4_1[3][1])/2],it(e).points4_1[2]=[(it(e).points4_1[0][0]+it(e).points4_1[3][0])/2+10,(it(e).points4_1[0][1]+it(e).points4_1[3][1])/2],r.select("#path-4").datum(it(e).points4).style("stroke-dasharray","5, 5").attr("d",Ht),r.select("#path-4-2").datum(it(e).points4_1).style("stroke-dasharray","5, 5").attr("d",Ht)}if(1===t[2]){a=j;var g=B[0],f=B[1];et("rightline_1",g,"LHL",T[4].color),et("rightline_2",f,"HLL",T[4].color);var y=(l-40)*a;r.select(".inner-bar").transition().duration(500).attr("y",l-20-y).attr("height",y),r.select(".inner-bar-2").transition().duration(500).attr("y",l-20-y).attr("height",y),it(e).points3[3][1]=85-y,it(e).points3_1[3][1]=85-y,it(e).points3[1]=[(it(e).points3[0][0]+it(e).points3[3][0])/2-10,(it(e).points3[0][1]+it(e).points3[3][1])/2],it(e).points3[2]=[(it(e).points3[0][0]+it(e).points3[3][0])/2+10,(it(e).points3[0][1]+it(e).points3[3][1])/2],it(e).points3_1[1]=[(it(e).points3_1[0][0]+it(e).points3_1[3][0])/2-10,(it(e).points3_1[0][1]+it(e).points3_1[3][1])/2],it(e).points3_1[2]=[(it(e).points3_1[0][0]+it(e).points3_1[3][0])/2+10,(it(e).points3_1[0][1]+it(e).points3_1[3][1])/2],r.select("#path-3").datum(it(e).points3).attr("d",gt),r.select("#path-3-2").datum(it(e).points3_1).attr("d",gt),it(e).points4[0][1]=85-y,it(e).points4_1[0][1]=85-y,it(e).points4[3][1]=85-(l-40)*g,it(e).points4_1[3][1]=85-(l-40)*f,it(e).points4[1]=[(it(e).points4[0][0]+it(e).points4[3][0])/2-10,(it(e).points4[0][1]+it(e).points4[3][1])/2],it(e).points4[2]=[(it(e).points4[0][0]+it(e).points4[3][0])/2+10,(it(e).points4[0][1]+it(e).points4[3][1])/2],it(e).points4_1[1]=[(it(e).points4_1[0][0]+it(e).points4_1[3][0])/2-10,(it(e).points4_1[0][1]+it(e).points4_1[3][1])/2],it(e).points4_1[2]=[(it(e).points4_1[0][0]+it(e).points4_1[3][0])/2+10,(it(e).points4_1[0][1]+it(e).points4_1[3][1])/2],r.select("#path-4").datum(it(e).points4).style("stroke-dasharray","5, 5").attr("d",Ht),r.select("#path-4-2").datum(it(e).points4_1).style("stroke-dasharray","5, 5").attr("d",Ht)}}if(2===n){if(r.selectAll(".bar-full, .lineClass, .rightline_1, .rightline_2, .rightline_1_text, .rightline_2_text").attr("visibility","hidden"),r.selectAll(".bar-top, .bar-bottom, .rightline_2_1, .rightline_2_2, .rightline_2_1, .rightline_2_2, .right-inner-bar-bottom, .right-inner-bar-top, .inner-bar-2, .rightline_2_1_text, .rightline_2_2_text").attr("visibility","visible"),1===t[0]&&1===t[1]){var v=P,m=R,_=X[0],x=X[1],k=.4*(l-40),b=20+k*(1-_),w=20+.6*(l-40)+k*(1-x);r.select(".rightline_2_1").attr("fill",T[0].color).attr("y1",b).attr("y2",b),r.select(".rightline_2_2").attr("fill",T[2].color).attr("y1",w).attr("y2",w),r.select(".rightline_2_1_text").attr("y",b).attr("fill",T[0].color).text("LLH"),r.select(".rightline_2_2_text").attr("y",w).attr("fill",T[2].color).text("LLH"),r.select(".right-inner-bar-top").transition().duration(500).attr("fill",T[0].color).attr("y",20+45.6*(1-_)).attr("height",45.6*_),r.select(".right-inner-bar-bottom").transition().duration(500).attr("fill",T[2].color).attr("y",88.4+45.6*(1-x)).attr("height",45.6*x);var A=(l-40)*v,C=(l-40)*m;r.select(".inner-bar").transition().duration(500).attr("y",l-20-A).attr("height",A),r.select(".inner-bar-2").transition().duration(500).attr("y",l-20-C).attr("height",C),it(e).points3[3][1]=85-A,it(e).points3[1]=[(it(e).points3[0][0]+it(e).points3[3][0])/2-10,(it(e).points3[0][1]+it(e).points3[3][1])/2],it(e).points3[2]=[(it(e).points3[0][0]+it(e).points3[3][0])/2+10,(it(e).points3[0][1]+it(e).points3[3][1])/2],r.select("#path-3").datum(it(u).points3).attr("d",gt),it(e).points3_1[3][1]=85-C,it(e).points3_1[1]=[(it(e).points3_1[0][0]+it(e).points3_1[3][0])/2-10,(it(e).points3_1[0][1]+it(e).points3_1[3][1])/2],it(e).points3_1[2]=[(it(e).points3_1[0][0]+it(e).points3_1[3][0])/2+10,(it(e).points3_1[0][1]+it(e).points3_1[3][1])/2],r.select("#path-3-2").datum(it(u).points3_1).attr("d",gt),it(e).points4[0][1]=85-A,it(e).points4_1[0][1]=85-C,it(e).points4[3][1]=85-68.4-_*k,it(e).points4_1[3][1]=85-x*k,it(e).points4[1]=[(it(e).points4[0][0]+it(e).points4[3][0])/2-10,(it(e).points4[0][1]+it(e).points4[3][1])/2],it(e).points4[2]=[(it(e).points4[0][0]+it(e).points4[3][0])/2+10,(it(e).points4[0][1]+it(e).points4[3][1])/2],it(e).points4_1[1]=[(it(e).points4_1[0][0]+it(e).points4_1[3][0])/2-10,(it(e).points4_1[0][1]+it(e).points4_1[3][1])/2],it(e).points4_1[2]=[(it(e).points4_1[0][0]+it(e).points4_1[3][0])/2+10,(it(e).points4_1[0][1]+it(e).points4_1[3][1])/2],r.select("#path-4").datum(it(e).points4).style("stroke-dasharray","none").attr("d",Ht),r.select("#path-4-2").datum(it(e).points4_1).style("stroke-dasharray","none").attr("d",Ht)}if(1===t[1]&&1===t[2]){var S=R,G=j,L=N[0],D=N[1],E=.4*(l-40),M=20+E*(1-L),F=20+.6*(l-40)+E*(1-D);r.select(".rightline_2_1").attr("fill",T[2].color).attr("y1",M).attr("y2",M),r.select(".rightline_2_2").attr("fill",T[4].color).attr("y1",F).attr("y2",F),r.select(".rightline_2_1_text").attr("fill",T[2].color).attr("y",M).text("HLL"),r.select(".rightline_2_2_text").attr("fill",T[4].color).attr("y",F).text("HLL"),r.select(".right-inner-bar-top").transition().duration(500).attr("fill",T[2].color).attr("y",20+45.6*(1-L)).attr("height",45.6*L),r.select(".right-inner-bar-bottom").transition().duration(500).attr("fill",T[4].color).attr("y",88.4+45.6*(1-D)).attr("height",45.6*D);var Y=(l-40)*S,V=(l-40)*G;r.select(".inner-bar").transition().duration(500).attr("y",l-20-Y).attr("height",Y),r.select(".inner-bar-2").transition().duration(500).attr("y",l-20-V).attr("height",V),it(e).points3[3][1]=85-Y,it(e).points3[1]=[(it(e).points3[0][0]+it(e).points3[3][0])/2-10,(it(e).points3[0][1]+it(e).points3[3][1])/2],it(e).points3[2]=[(it(e).points3[0][0]+it(e).points3[3][0])/2+10,(it(e).points3[0][1]+it(e).points3[3][1])/2],r.select("#path-3").datum(it(u).points3).attr("d",gt),it(e).points3_1[3][1]=85-V,it(e).points3_1[1]=[(it(e).points3_1[0][0]+it(e).points3_1[3][0])/2-10,(it(e).points3_1[0][1]+it(e).points3_1[3][1])/2],it(e).points3_1[2]=[(it(e).points3_1[0][0]+it(e).points3_1[3][0])/2+10,(it(e).points3_1[0][1]+it(e).points3_1[3][1])/2],r.select("#path-3-2").datum(it(u).points3_1).attr("d",gt),it(e).points4[0][1]=85-Y,it(e).points4_1[0][1]=85-V,it(e).points4[3][1]=85-68.4-L*E,it(e).points4_1[3][1]=85-D*E,it(e).points4[1]=[(it(e).points4[0][0]+it(e).points4[3][0])/2-10,(it(e).points4[0][1]+it(e).points4[3][1])/2],it(e).points4[2]=[(it(e).points4[0][0]+it(e).points4[3][0])/2+10,(it(e).points4[0][1]+it(e).points4[3][1])/2],it(e).points4_1[1]=[(it(e).points4_1[0][0]+it(e).points4_1[3][0])/2-10,(it(e).points4_1[0][1]+it(e).points4_1[3][1])/2],it(e).points4_1[2]=[(it(e).points4_1[0][0]+it(e).points4_1[3][0])/2+10,(it(e).points4_1[0][1]+it(e).points4_1[3][1])/2],r.select("#path-4").datum(it(e).points4).style("stroke-dasharray","none").attr("d",Ht),r.select("#path-4-2").datum(it(e).points4_1).style("stroke-dasharray","none").attr("d",Ht)}if(1===t[0]&&1===t[2]){var q=P,K=j,U=z[0],W=z[1],$=.4*(l-40),Q=20+$*(1-U),Z=20+.6*(l-40)+$*(1-W);r.select(".rightline_2_1").attr("fill",T[0].color).attr("y1",Q).attr("y2",Q),r.select(".rightline_2_2").attr("fill",T[4].color).attr("y1",Z).attr("y2",Z),r.select(".rightline_2_1_text").attr("fill",T[0].color).attr("y",Q).text("LHL"),r.select(".rightline_2_2_text").attr("fill",T[4].color).attr("y",Z).text("LHL"),r.select(".right-inner-bar-top").transition().attr("fill",T[0].color).duration(500).attr("y",20+45.6*(1-U)).attr("height",45.6*U),r.select(".right-inner-bar-bottom").transition().duration(500).attr("fill",T[4].color).attr("y",88.4+45.6*(1-W)).attr("height",45.6*W);var J=(l-40)*q,tt=(l-40)*K;r.select(".inner-bar").transition().duration(500).attr("y",l-20-J).attr("height",J),r.select(".inner-bar-2").transition().duration(500).attr("y",l-20-tt).attr("height",tt),r.select(".right-inner-bar-top").transition().duration(500).attr("y",20+45.6*(1-U)).attr("height",45.6*U),r.select(".right-inner-bar-bottom").transition().duration(500).attr("y",88.4+45.6*(1-W)).attr("height",45.6*W),it(e).points3[3][1]=85-J,it(e).points3[1]=[(it(e).points3[0][0]+it(e).points3[3][0])/2-10,(it(e).points3[0][1]+it(e).points3[3][1])/2],it(e).points3[2]=[(it(e).points3[0][0]+it(e).points3[3][0])/2+10,(it(e).points3[0][1]+it(e).points3[3][1])/2],r.select("#path-3").datum(it(u).points3).attr("d",gt),it(e).points3_1[3][1]=85-tt,it(e).points3_1[1]=[(it(e).points3_1[0][0]+it(e).points3_1[3][0])/2-10,(it(e).points3_1[0][1]+it(e).points3_1[3][1])/2],it(e).points3_1[2]=[(it(e).points3_1[0][0]+it(e).points3_1[3][0])/2+10,(it(e).points3_1[0][1]+it(e).points3_1[3][1])/2],r.select("#path-3-2").datum(it(u).points3_1).attr("d",gt),it(e).points4[0][1]=85-J,it(e).points4_1[0][1]=85-tt,it(e).points4[3][1]=85-68.4-U*$,it(e).points4_1[3][1]=85-W*$,it(e).points4[1]=[(it(e).points4[0][0]+it(e).points4[3][0])/2-10,(it(e).points4[0][1]+it(e).points4[3][1])/2],it(e).points4[2]=[(it(e).points4[0][0]+it(e).points4[3][0])/2+10,(it(e).points4[0][1]+it(e).points4[3][1])/2],it(e).points4_1[1]=[(it(e).points4_1[0][0]+it(e).points4_1[3][0])/2-10,(it(e).points4_1[0][1]+it(e).points4_1[3][1])/2],it(e).points4_1[2]=[(it(e).points4_1[0][0]+it(e).points4_1[3][0])/2+10,(it(e).points4_1[0][1]+it(e).points4_1[3][1])/2],r.select("#path-4").datum(it(e).points4).style("stroke-dasharray","none").attr("d",Ht),r.select("#path-4-2").datum(it(e).points4_1).style("stroke-dasharray","none").attr("d",Ht)}}if(3===n){r.selectAll(".bar-full, .lineClass").attr("visibility","visible"),r.selectAll(".bar-top, .bar-bottom, .rightline_2_1, .rightline_2_2, .rightline_2_1, .rightline_2_2, .rightline_1, .rightline_2, .right-inner-bar-bottom, .right-inner-bar-top, .inner-bar-2, .rightline_1_text, .rightline_2_text, .rightline_2_1_text, .rightline_2_2_text").attr("visibility","hidden");var nt=(l-40)*(a=.01);r.select(".inner-bar").transition().duration(500).attr("y",l-20-nt).attr("height",nt),r.select(".inner-bar-2").transition().duration(500).attr("y",l-20-nt).attr("height",nt),it(e).points3[3][1]=85-nt,r.select("#path-3").datum(it(u).points3).attr("d",gt),it(e).points3_1[3][1]=85-nt,r.select("#path-3-2").datum(it(u).points3_1).attr("d",gt),it(e).points4[0][1]=85-(l-40)*a,it(e).points4_1[0][1]=85-(l-40)*a,it(e).points4[3][1]=85-(l-40)*a,it(e).points4_1[3][1]=85-(l-40)*a,it(e).points4[1]=[(it(e).points4[0][0]+it(e).points4[3][0])/2-10,(it(e).points4[0][1]+it(e).points4[3][1])/2],it(e).points4[2]=[(it(e).points4[0][0]+it(e).points4[3][0])/2+10,(it(e).points4[0][1]+it(e).points4[3][1])/2],it(e).points4_1[1]=[(it(e).points4_1[0][0]+it(e).points4_1[3][0])/2-10,(it(e).points4_1[0][1]+it(e).points4_1[3][1])/2],it(e).points4_1[2]=[(it(e).points4_1[0][0]+it(e).points4_1[3][0])/2+10,(it(e).points4_1[0][1]+it(e).points4_1[3][1])/2],r.select("#path-4").datum(it(e).points4).style("stroke-dasharray","none").attr("d",Ht),r.select("#path-4-2").datum(it(e).points4_1).style("stroke-dasharray","none").attr("d",Ht)}},et=function(t,e,n,a){var r=U+q*(1-e);return g.selectAll("."+t).transition().duration(500).attr("fill",a).attr("y1",r).attr("y2",r),g.selectAll("."+t+"_text").attr("y",r+3).attr("fill",a).text(n),r},Z=function(t,e,n){var a=U+q*(1-t);g.append("line").attr("x1",K+60).attr("x2",K+60+Y).attr("y1",a).attr("y2",a).attr("stroke",e).attr("stroke-width",2).attr("class",n),g.append("text").attr("x",f-Y-40+15).attr("y",a+3).attr("fill",T[0].color).style("font-size","12px").style("user-select","none").attr("class",n+"_text").text("LLL")},W=function(t,e,n){console.log(e),console.log(n);var a=U+q*(1-t);g.append("line").attr("x1",K).attr("x2",K+Y).attr("y1",a).attr("y2",a).attr("stroke",e).attr("stroke-width",2),"HHL"===n&&"#9ECA80"===e?g.append("text").attr("x",K+Y+5).attr("y",a+10).attr("fill",e).style("font-size","12px").style("user-select","none").text(n):g.append("text").attr("x",K+Y+5).attr("y",a+3).attr("fill",e).style("font-size","12px").style("user-select","none").text(n)},m=function(t){var e=t.split("-")[1],n=parseInt(e,10);O.select(".line-".concat(n)).remove(),g.remove()},i=function(t){for(;t&&t.parentNode;)if("svg"===(t=t.parentNode).tagName)return t;return null},r=n,s=n.$el.querySelector("#metapaths"),o=s.offsetWidth,l=154,2===n.nodesData.length?c=3:3===n.nodesData.length&&(c=5),d=o/(c+1),(h=document.createElement("div")).setAttribute("class","metapath"),s.appendChild(h),n.svgIdCounter++,u="svg-".concat(n.svgIdCounter),p="svg-click-count-".concat(r.clickCount),(g=O.select(h).append("svg").attr("class","matapath-wrapper ".concat(p)).attr("id",u).attr("width",o).attr("height",l)).append("rect").attr("class","border").attr("x",0).attr("y",0).attr("width",o).attr("height",l).attr("stroke","#a0a0a0").attr("fill","none").attr("stroke-width",1),f=o-20-10,v=30+(y=(l-20)/2-15),g.append("rect").attr("class","button-close").attr("x",f).attr("y",y).attr("width",20).attr("height",20).attr("fill","white").attr("cursor","pointer").on("click",(function(){return m(u)})),g.append("g").attr("class","icon-close").attr("transform","translate(".concat(f+10-10,", ").concat(y+10-10,")")).style("cursor","pointer").on("click",(function(){return m(u)})).node().innerHTML='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="20" height="20"><path d="M320 832a32 32 0 0 0 32-32V448a32 32 0 1 0-64 0v352a32 32 0 0 0 32 32z m192 0a32 32 0 0 0 32-32V448a32 32 0 1 0-64 0v352a32 32 0 0 0 32 32z m192 0a32 32 0 0 0 32-32V448a32 32 0 0 0-64 0v352a32 32 0 0 0 32 32zM864 96H731.443A128 128 0 0 0 608 0H416a128 128 0 0 0-123.494 96H160A128 128 0 0 0 32 224v32h32v32h64v608a128 128 0 0 0 128 128h512a128 128 0 0 0 128-128V288h64v-32h32v-32A128 128 0 0 0 864 96zM416 64h192a63.795 63.795 0 0 1 55.091 32h-302.08A63.795 63.795 0 0 1 416 64z m416 832a64.051 64.051 0 0 1-64 64H256c-35.277 0-68.454-28.672-68.454-64L192 288h640v608zM96 224a64.051 64.051 0 0 1 64-64h704a64.051 64.051 0 0 1 64 64z"></path></svg>',g.append("rect").attr("class","button-action").attr("x",f).attr("y",v).attr("width",20).attr("height",20).attr("fill","white").attr("cursor","pointer").on("click",(function(){n.handleSubmit(M)})),g.append("g").attr("class","icon-action").attr("transform","translate(".concat(f+10-12,", ").concat(v+10-12,")")).style("cursor","pointer").on("click",(function(){n.handleSubmit(M)})).append("svg").attr("xmlns","http://www.w3.org/2000/svg").attr("viewBox","0 0 1024 1024").attr("width",24).attr("height",24).append("path").attr("fill","currentColor").attr("d","M352 480h320a32 32 0 1 1 0 64H352a32 32 0 0 1 0-64zM480 672V352a32 32 0 1 1 64 0v320a32 32 0 0 1-64 0zM512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"),_=[],x=1;x<=c;x++)k=d*x,_.push({x:k,y:l/2});return t.length,w=50,C=2*(b=160)/3,S=t[1].data.id,G=t[0].data.id,L=n.relations[e.index],D=t[1].data.entity_type?t[1].data.entity_type:t[1].data.target_type,E=t[0].data.target_type?t[0].data.target_type:t[0].data.entity_type,T=[{x:0,y:0,width:b,height:w,text:S,color:V[D]},{x:b,y:0,width:C,height:100,text:"",color:"white"},{x:b+C,y:0,width:b,height:w,text:L,color:"#CCCCCC"},{x:2*b+C,y:0,width:C,height:100,text:"",color:"white"},{x:2*b+2*C,y:0,width:b,height:w,text:G,color:V[E]},{x:0,y:w,width:b,height:w,text:D,color:V[D]},{x:b+C,y:w,width:b,height:w,text:"All_edge",color:"#CCCCCC"},{x:2*b+2*C,y:w,width:b,height:w,text:E,color:V[E]}],M=[S,L,G],a.next=51,n.runAnalysis(M[0],M[1],M[2]);case 51:F=[1,1,1],P=Math.log(n.data_1_0_0)/Math.log(n.data_0_0_0),R=Math.log(n.data_0_1_0)/Math.log(n.data_0_0_0),j=Math.log(n.data_0_0_1)/Math.log(n.data_0_0_0),H=[n.data_1_1_0/n.data_1_0_0,n.data_1_0_1/n.data_1_0_0],I=[n.data_1_1_0/n.data_0_1_0,n.data_0_1_1/n.data_0_1_0],B=[n.data_1_0_1/n.data_0_0_1,n.data_0_1_1/n.data_0_0_1],X=[n.data_1_1_0/n.data_0_1_0,n.data_1_1_0/n.data_1_0_0],N=[n.data_0_1_1/n.data_0_1_0,n.data_0_1_1/n.data_0_0_1],z=[n.data_1_0_1/n.data_1_0_0,n.data_1_0_1/n.data_1_0_0],Y=10,g.append("rect").attr("x",f-Y-100).attr("y",20).attr("width",Y).attr("height",l-40).attr("fill","none").attr("stroke","#888888").attr("stroke-width",1),q=l-40,K=f-Y-100,U=20,$=.01*(l-40),g.append("rect").attr("class","inner-bar").attr("x",f-Y-100).attr("y",l-20-$).attr("width",Y).style("opacity",.3).attr("height",$).attr("fill","#c2c2e1"),g.append("rect").attr("class","inner-bar-2").attr("x",f-Y-100).attr("y",l-20-$).style("opacity",.3).attr("width",Y).attr("height",$).attr("fill","skyblue"),g.append("rect").attr("x",f-Y-40).attr("y",20).attr("width",Y).attr("height",l-40).attr("fill","none").attr("stroke","#888888").attr("stroke-width",1).attr("class","bar-full"),g.append("rect").attr("x",f-Y-40).attr("y",20).attr("width",Y).attr("height",.4*(l-40)).attr("fill","none").attr("stroke","#888888").attr("stroke-width",1).attr("visibility","hidden").attr("class","bar-top"),g.append("rect").attr("class","right-inner-bar-top").attr("x",f-Y-40).attr("y",42.8).attr("width",Y).attr("height",22.8).attr("visibility","hidden").style("opacity",.3).attr("fill","#c2c2e1"),g.append("rect").attr("x",f-Y-40).attr("y",20+.6*(l-40)).attr("width",Y).attr("height",.4*(l-40)).attr("fill","none").attr("stroke","#888888").attr("stroke-width",1).attr("visibility","hidden").attr("class","bar-bottom"),g.append("rect").attr("class","right-inner-bar-bottom").attr("x",f-Y-40).attr("y",115.76).attr("width",Y).attr("height",45.6*.4).attr("visibility","hidden").style("opacity",.3).attr("fill","skyblue"),g.append("line").attr("x1",f-Y-40).attr("y1",40).attr("x2",f-40).attr("y2",40).attr("stroke","black").attr("visibility","hidden").attr("class","rightline_2_1").attr("stroke-width",2),g.append("text").attr("x",f-Y-40+15).attr("y",43).attr("fill","#c2c2e1").attr("class","rightline_2_1_text").style("font-size","12px").style("user-select","none").attr("visibility","hidden").text(""),g.append("line").attr("x1",f-Y-40).attr("y1",80).attr("x2",f-40).attr("y2",80).attr("stroke","black").attr("visibility","hidden").attr("class","rightline_2_2").attr("stroke-width",2),g.append("text").attr("x",f-Y-40+15).attr("y",83).attr("fill","skyblue").attr("class","rightline_2_2_text").style("font-size","12px").style("user-select","none").attr("visibility","hidden").text(""),Q=.01*(l-40),W(P,T[0].color,"LHH"),W(R,T[2].color,"HLH"),W(j,T[4].color,"HHL"),Z(.01,T[0].color,"rightline_1"),Z(.01,T[4].color,"rightline_2"),J=[],(tt=O.select("#".concat(u)).append("g").attr("transform","translate(".concat(0,", ",50,")"))).selectAll("rect").data(T).enter().append("rect").attr("x",(function(t){return t.x})).attr("y",(function(t){return t.y})).attr("width",(function(t){return t.width})).attr("height",(function(t){return t.height})).style("fill",(function(t){return 2===t.columnIndex||t.columnIndex,"none"})).attr("stroke-width",1).style("opacity",.5),T.forEach((function(t,e){t.id=e})),tt.selectAll("text").data(T).enter().append("text").attr("x",(function(t){return t.x+t.width/2})).attr("y",(function(t){return t.y+t.height/2})).attr("text-anchor","middle").attr("dominant-baseline","middle").text((function(t){return t.text.length>15?"".concat(t.text.substring(0,15),"..."):t.text})).style("user-select","none").each((function(t){if(t.text.length>0){var e=this.getBBox(),n=t.x+t.width/2-80,a=e.y-7,r=t.color;J.push([n,a,t.id]),tt.insert("rect","text").attr("x",n).attr("y",a).attr("width",160).attr("height",32).attr("rx",10).attr("fill",(function(){return r})).style("opacity",.5).attr("stroke-width",0).on("click",(function(){var e=J.findIndex((function(e){return e[2]===t.id}));if([0,3].includes(e)){var r=i(this),s=r?r.id:void 0,o=n+160,l=a+16;0===e&&(M[0]=S,F[0]=1),3===e&&(M[0]=D,F[0]=0),it(s).points[0]=[o,l],it(s).points[1]=[(o+it(s).points[3][0])/2-20,(l+it(s).points[3][1])/2],it(s).points[2]=[(o+it(s).points[3][0])/2+20,(l+it(s).points[3][1])/2],tt.select("#path-1").datum(ft).attr("d",gt),nt(F,s)}if([1,4].includes(e)){var c=i(this),d=c?c.id:void 0,h=n,u=a+16;1===e&&(M[1]=L,F[1]=1),4===e&&(M[1]="All_edge",F[1]=0),it(d).points[3]=[h,u],it(d).points[1]=[(it(d).points[0][0]+it(d).points[3][0])/2-20,(it(d).points[0][1]+it(d).points[3][1])/2],it(d).points[2]=[(it(d).points[0][0]+it(d).points[3][0])/2+20,(it(d).points[0][1]+it(d).points[3][1])/2],tt.select("#path-1").datum(ft).attr("d",gt);var p=n+160,g=a+16;it(d).points2[0]=[p,g],it(d).points2[1]=[(p+it(d).points2[3][0])/2-20,(g+it(d).points2[3][1])/2],it(d).points2[2]=[(p+it(d).points2[3][0])/2+20,(g+it(d).points2[3][1])/2],tt.select("#path-2").datum(Ct).attr("d",At),nt(F,d)}if([2,5].includes(e)){var f=i(this),y=f?f.id:void 0,v=n,m=a+16;2===e&&(M[2]=G,F[2]=1),5===e&&(M[2]=E,F[2]=0),it(y).points2[3]=[v,m],it(y).points2[1]=[(it(y).points2[0][0]+it(y).points2[3][0])/2-20,(it(y).points2[0][1]+it(y).points2[3][1])/2],it(y).points2[2]=[(it(y).points2[0][0]+it(y).points2[3][0])/2+20,(it(y).points2[0][1]+it(y).points2[3][1])/2],tt.select("#path-2").datum(it(y).points2).attr("d",At);var _=n+160,x=a+16;it(y).points3[0]=[_,x],it(y).points3[1]=[(_+it(y).points3[3][0])/2-10,(x+it(y).points3[3][1])/2],it(y).points3[2]=[(_+it(y).points3[3][0])/2+10,(x+it(y).points3[3][1])/2],Rt[0]=[_,x],Rt[1]=[(_+it(y).points3[3][0])/2-10,(x+it(y).points3[3][1])/2],Rt[2]=[(_+it(y).points3[3][0])/2+10,(x+it(y).points3[3][1])/2],tt.select("#path-3").datum(it(y).points3).attr("d",jt),tt.select("#path-3-2").datum(it(y).points3_1).attr("d",Ht),nt(F,y)}})),O.select(this).append("title").text(t.text).on("click",(function(){var e=J.findIndex((function(e){return e[2]===t.id}));if([0,3].includes(e)){var r=i(this),s=r?r.id:void 0,o=n+160,l=a+16;0===e&&(M[0]=S,F[0]=1),3===e&&(M[0]=D,F[0]=0),it(s).points[0]=[o,l],it(s).points[1]=[(o+it(s).points[3][0])/2-20,(l+it(s).points[3][1])/2],it(s).points[2]=[(o+it(s).points[3][0])/2+20,(l+it(s).points[3][1])/2],tt.select("#path-1").datum(ft).attr("d",gt),nt(F,s)}if([1,4].includes(e)){var c=i(this),d=c?c.id:void 0,h=n,u=a+16;1===e&&(M[1]=L,F[1]=1),4===e&&(M[1]="All_edge",F[1]=0),it(d).points[3]=[h,u],it(d).points[1]=[(it(d).points[0][0]+it(d).points[3][0])/2-20,(it(d).points[0][1]+it(d).points[3][1])/2],it(d).points[2]=[(it(d).points[0][0]+it(d).points[3][0])/2+20,(it(d).points[0][1]+it(d).points[3][1])/2],tt.select("#path-1").datum(ft).attr("d",gt);var p=n+160,g=a+16;it(d).points2[0]=[p,g],it(d).points2[1]=[(p+it(d).points2[3][0])/2-20,(g+it(d).points2[3][1])/2],it(d).points2[2]=[(p+it(d).points2[3][0])/2+20,(g+it(d).points2[3][1])/2],tt.select("#path-2").datum(Ct).attr("d",At),nt(F,d)}if([2,5].includes(e)){var f=i(this),y=f?f.id:void 0,v=n,m=a+16;2===e&&(M[2]=G,F[2]=1),5===e&&(M[2]=E,F[2]=0),it(y).points2[3]=[v,m],it(y).points2[1]=[(it(y).points2[0][0]+it(y).points2[3][0])/2-20,(it(y).points2[0][1]+it(y).points2[3][1])/2],it(y).points2[2]=[(it(y).points2[0][0]+it(y).points2[3][0])/2+20,(it(y).points2[0][1]+it(y).points2[3][1])/2],tt.select("#path-2").datum(it(y).points2).attr("d",At);var _=n+160,x=a+16;it(y).points3[0]=[_,x],it(y).points3[1]=[(_+it(y).points3[3][0])/2-10,(x+it(y).points3[3][1])/2],it(y).points3[2]=[(_+it(y).points3[3][0])/2+10,(x+it(y).points3[3][1])/2],Rt[0]=[_,x],Rt[1]=[(_+it(y).points3[3][0])/2-10,(x+it(y).points3[3][1])/2],Rt[2]=[(_+it(y).points3[3][0])/2+10,(x+it(y).points3[3][1])/2],tt.select("#path-3").datum(it(y).points3).attr("d",jt),tt.select("#path-3-2").datum(it(y).points3_1).attr("d",Ht),nt(F,y)}}))}})),at=new Map,rt(u),st=J[0][0]+160,ot=J[0][1]+16,lt=J[1][0],ct=J[0][1]+16,dt=(st+lt)/2-20,ht=(ot+ct)/2,ut=(st+lt)/2+20,pt=(ot+ct)/2,gt=O.line().curve(O.curveBasis),ft=[[st,ot],[dt,ht],[ut,pt],[lt,ct]],it(u).points=ft,tt.append("path").attr("id","path-1").datum(it(u).points).attr("d",gt).attr("fill","none").attr("stroke","#c2c2e1").attr("stroke-width",2),yt=J[1][0]+160,vt=J[1][1]+16,mt=J[2][0],_t=J[2][1]+16,xt=(yt+mt)/2-20,kt=(vt+_t)/2,bt=(yt+mt)/2+20,wt=(vt+_t)/2,At=O.line().curve(O.curveBasis),Ct=[[yt,vt],[xt,kt],[bt,wt],[mt,_t]],it(u).points2=Ct,tt.append("path").attr("id","path-2").datum(it(u).points2).attr("d",At).attr("fill","none").attr("stroke","#c2c2e1").attr("stroke-width",2),St=J[2][0]+160,Gt=J[2][1]+16,Pt=[[St,Gt],[Et=(St+(Lt=f-Y-100))/2-10,Tt=(Gt+(Dt=85-$))/2],[Mt=(St+Lt)/2+10,Ft=(Gt+Dt)/2],[Lt,Dt]],it(u).points3=Pt,Rt=[[St,Gt],[Et,Tt],[Mt,Ft],[Lt,Dt]],it(u).points3_1=Rt,jt=O.line().curve(O.curveBasis),tt.append("path").attr("id","path-3").datum(it(u).points3).attr("d",jt).attr("fill","none").attr("stroke","#c2c2e1").attr("stroke-width",2),tt.append("path").attr("id","path-3-2").datum(it(u).points3_1).attr("d",jt).attr("fill","none").attr("stroke","#c2c2e1").attr("stroke-width",2),Ht=O.line().curve(O.curveBasis),qt=[[It=f-Y-90,Bt=85-$],[zt=(It+(Xt=f-Y-40))/2-5,Ot=(Bt+(Nt=85-Q))/2],[Yt=(It+Xt)/2+5,Vt=(Bt+Nt)/2],[Xt,Nt]],it(u).points4=qt,Kt=[[It,Bt],[zt,Ot],[Yt,Vt],[Xt,Nt]],it(u).points4_1=Kt,tt.append("path").attr("id","path-4").datum(it(u).points4).attr("d",Ht).attr("fill","none").attr("stroke","#c2c2e1").attr("stroke-width",2),tt.append("path").attr("id","path-4-2").datum(it(u).points4_1).attr("d",Ht).attr("fill","none").attr("stroke","#c2c2e1").attr("stroke-width",2),2==t.length&&(Ut=t[1].data.entity_type?t[1].data.entity_type:t[1].data.target_type,E=t[0].data.target_type?t[0].data.target_type:t[0].data.entity_type,n.geneCounts=n.calculateRelativeProportionsStart(Ut,"",""),Wt=n.geneCounts[S],n.geneCounts_target=n.calculateRelativeProportionsEnd("","",E),$t=n.geneCounts_target[G],n.current_count=n.geneCounts[t[1]],n.current_count_target=n.geneCounts[t[0]],Qt=Object.values(n.geneCounts).map((function(t){return t>0?t:1})),Zt=Object.values(n.geneCounts_target).map((function(t){return t>0?t:1})),Jt=O.scaleLog().domain([1,O.max(Qt)]).range([0,160]).nice(),te=O.histogram().value((function(t){return t})).domain(Jt.domain()).thresholds(Jt.ticks(80)),ee=O.scaleLog().domain([1,O.max(Zt)]).range([0,160]).nice(),ne=O.histogram().value((function(t){return t})).domain(ee.domain()).thresholds(ee.ticks(80))),ae=te(Qt),re=ne(Zt),ie=O.scaleLog().domain([1,O.max(Qt)]).range([0,160]).nice(),se=O.scaleLog().range([50,0]).nice().domain([1,O.max(ae,(function(t){return t.length}))]),oe=O.scaleLog().domain([1,O.max(Zt)]).range([0,160]).nice(),le=O.scaleLog().range([50,0]).nice().domain([1,O.max(re,(function(t){return t.length}))]),tt.selectAll(".bin-rect").data(ae).enter().append("rect").attr("class","bin-rect").attr("x",(function(t){return ie(t.x0)})).attr("y",(function(t){return se(t.length)-45})).attr("width",(function(t){return Math.max(0,ie(t.x1)-ie(t.x0)-1)})).attr("height",(function(t){return Math.max(0,40-se(t.length))})).style("fill-opacity",.6).style("fill",T[0].color).on("mouseover",(function(t){O.select(this).style("fill","orange"),tt.append("text").attr("class","tooltip-1").attr("x",ie(t.x0)+(ie(t.x1)-ie(t.x0))/2).attr("y",Math.max(se(t.length)-50,-35)).text("Count: ".concat(t.length,", Range: [").concat(t.x0,", ").concat(t.x1,"]"))})).on("mouseout",(function(){O.select(this).style("fill",T[0].color),tt.selectAll(".tooltip-1").remove()})),tt.selectAll(".bin-target-rect").data(re).enter().append("rect").attr("class","bin-target-rect").attr("x",(function(t){return oe(t.x0)+2*b+2*C})).attr("y",(function(t){return le(t.length)-45})).attr("width",(function(t){return Math.max(0,oe(t.x1)-oe(t.x0)-1)})).attr("height",(function(t){return Math.max(0,40-le(t.length))})).style("fill-opacity",.6).style("fill",T[4].color).on("mouseover",(function(t){O.select(this).style("fill","orange"),tt.append("text").attr("class","tooltip-target").attr("x",oe(t.x0)+(oe(t.x1)-oe(t.x0))/2+2*b+2*C).attr("y",Math.max(se(t.length)-50,-35)).text("Count: ".concat(t.length,", Range: [").concat(t.x0,", ").concat(t.x1,"]"))})).on("mouseout",(function(){O.select(this).style("fill",T[4].color),tt.selectAll(".tooltip-target").remove()})),de=ce(Qt),he=ce(Zt),-5,ue=ie(Wt),pe=oe($t),tt.append("rect").attr("x",ie(de.q1)).attr("y",-5).attr("width",ie(de.q3)-ie(de.q1)).attr("height",5).style("fill","#c2c2e1"),tt.append("rect").attr("x",oe(he.q1)+2*b+2*C).attr("y",-5).attr("width",oe(he.q3)-oe(he.q1)).attr("height",5).style("fill","#c2c2e1"),tt.append("line").attr("x1",ie(de.min)).attr("x2",ie(de.max)).attr("y1",-2.5).attr("y2",-2.5).style("stroke","#c2c2e1").style("stroke-width","1"),tt.append("line").attr("x1",oe(he.min)+2*b+2*C).attr("x2",Math.min(oe(he.max)+2*b+2*C,2*b+2*C+160)).attr("y1",-2.5).attr("y2",-2.5).style("stroke","#c2c2e1").style("stroke-width","1"),tt.append("line").attr("x1",oe(he.median)+2*b+2*C).attr("x2",oe(he.median)+2*b+2*C).attr("y1",-5).attr("y2",0).style("stroke","black").style("stroke-width","1"),tt.append("line").attr("x1",ie(de.min)).attr("x2",ie(de.min)).attr("y1",-4).attr("y2",-1).style("stroke","black").style("stroke-width","1"),tt.append("line").attr("x1",ie(de.max)).attr("x2",ie(de.max)).attr("y1",-4).attr("y2",-1).style("stroke","black").style("stroke-width","1"),tt.append("line").attr("x1",oe(he.min)+2*b+2*C).attr("x2",oe(he.min)+2*b+2*C).attr("y1",-4).attr("y2",-1).style("stroke","black").style("stroke-width","1"),tt.append("line").attr("x1",Math.min(oe(he.max)+2*b+2*C,2*b+2*C+160)).attr("x2",Math.min(oe(he.max)+2*b+2*C,2*b+2*C+160)).attr("y1",-4).attr("y2",-1).style("stroke","black").style("stroke-width","1"),tt.append("line").attr("x1",ie(de.median)).attr("x2",ie(de.median)).attr("y1",-5).attr("y2",0).style("stroke","black").style("stroke-width","1"),tt.append("line").attr("x1",ue).attr("x2",ue).attr("y1",-5).attr("y2",0).style("stroke","red").style("opacity",.8).style("stroke-width","2"),tt.append("line").attr("x1",pe+2*b+2*C).attr("x2",pe+2*b+2*C).attr("y1",-5).attr("y2",0).style("stroke","red").style("opacity",.8).style("stroke-width","2");case 154:case"end":return a.stop()}}),a)})))()},handleDelete:function(){this.$el.querySelectorAll('.metapath input[type="checkbox"]:checked').forEach((function(t){var e=t.closest(".metapath");e&&e.remove()}))}}},U=(0,G.A)(K,[["render",function(t,e,n,r,i,s){var o=P.kA;return(0,a.uX)(),(0,a.CE)("div",j,[H,(0,a.Lk)("div",I,[B,(0,a.Lk)("div",X,[N,(0,a.bF)(o,{ref:"scrollContainer"},{default:(0,a.k6)((function(){return[z]})),_:1},512)])])])}],["__scopeId","data-v-f7bf2a72"]]),W=(n(4322),n(5390),n(5455),n(7540),n(3474),n(8884)),$=n(9771),Q=n(9942),Z=n(5755),J=function(t){return(0,a.Qi)("data-v-64383f5a"),t=t(),(0,a.jt)(),t},tt={class:"scatterplot-title"},et=J((function(){return(0,a.Lk)("svg",{class:"title-button-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024","data-v-ea893728":""},[(0,a.Lk)("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})],-1)})),nt=J((function(){return(0,a.Lk)("svg",{class:"title-button-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024","data-v-ea893728":""},[(0,a.Lk)("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})],-1)})),at=J((function(){return(0,a.Lk)("svg",{class:"collapse-button-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024","data-v-ea893728":""},[(0,a.Lk)("path",{fill:"currentColor",d:"M192 128v768h640V128zm-32-64h704a32 32 0 0 1 32 32v832a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h192v64H320zm0 384h384v64H320z"})],-1)})),rt={data:function(){return{items:[],activeNames:[],addedTitles:new Set,idx:0}},mounted:function(){C.on("selected-metapath",this.handleSelectedMetapath),this.handleSelectedMetapath(["Gene","All_edge","sensory_perception_of_smell"])},beforeDestroy:function(){C.off("selected-metapath",this.handleSelectedMetapath)},computed:{filteredItems:function(){return this.items.filter((function(t){return t.show}))}},methods:{abbreviateText:function(t){return t.length>24?t.substring(0,24)+"...":t},handleSelectedMetapath:function(t){var e=t.join(" - ");if(e&&!this.addedTitles.has(e)){console.log(e),this.addedTitles.add(e);var n=this.abbreviateText(e),a={id:this.idx++,title:"Delete ".concat(n),checked:!1,inputValue:"",show:!0,subtitle:"".concat(e)};this.items.push(a)}},togglePanel:function(t){var e="item".concat(t),n=this.activeNames.indexOf(e);-1===n?this.activeNames.push(e):this.activeNames.splice(n,1)},handleChange:function(t){this.activeNames=t},deleteCheckedItems:function(){this.items.forEach((function(t){t.checked&&(t.show=!1,t.checked=!1)}))},saveToJson:function(){var t=[];this.items.forEach((function(e){if(console.log(e),e.checked&&e.show&&-1!==e.id){var n=e.subtitle.split(" - ");if(console.log(n),n.length>=3){var a=n[0],r=n[1],i=n[n.length-1];t.push({entity:a,relation:r,target:i})}console.log(t)}}));var e=JSON.stringify(t,null,2);return console.log(e),e}}},it=(0,G.A)(rt,[["render",function(t,e,n,r,i,s){var o=Z.S2,l=Q.dI,c=$.WK,d=W.SS,h=P.kA,u=W.Vl;return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("div",tt,[(0,a.eW)(" Operation List "),(0,a.bF)(o,{class:"title-button",onClick:t.deleteCheckedItems},{default:(0,a.k6)((function(){return[et,(0,a.eW)(" Delete ")]})),_:1},8,["onClick"]),(0,a.bF)(o,{class:"title-button",onClick:t.saveToJson},{default:(0,a.k6)((function(){return[nt,(0,a.eW)(" Submit ")]})),_:1},8,["onClick"])]),(0,a.bF)(u,{modelValue:t.activeNames,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.activeNames=e}),class:"checkbox-panel",onChange:t.handleChange},{default:(0,a.k6)((function(){return[(0,a.bF)(h,{class:"list-scrollbar"},{default:(0,a.k6)((function(){return[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.filteredItems,(function(n){return(0,a.uX)(),(0,a.CE)("div",{key:n.id,class:"collapse-item-wrapper"},[(0,a.bF)(d,{name:"item"+n.id,title:n.title},{title:(0,a.k6)((function(){return[(0,a.bF)(l,{modelValue:n.checked,"onUpdate:modelValue":function(t){return n.checked=t},label:n.title,title:n.subtitle,border:"",class:"checkbox-with-panel",onClick:e[0]||(e[0]=(0,a.D$)((function(){}),["stop"]))},null,8,["modelValue","onUpdate:modelValue","label","title"])]})),default:(0,a.k6)((function(){return[(0,a.bF)(c,{modelValue:n.inputValue,"onUpdate:modelValue":function(t){return n.inputValue=t},type:"textarea",placeholder:"Input Something...",autosize:{minRows:2,maxRows:6}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1032,["name","title"]),(0,a.bF)(o,{class:"collapse-button",onClick:function(e){return t.togglePanel(n.id)}},{default:(0,a.k6)((function(){return[at]})),_:2},1032,["onClick"])])})),128))]})),_:1})]})),_:1},8,["modelValue","onChange"])])}],["__scopeId","data-v-64383f5a"]]),st=(0,a.Fv)('<div id="scatterplot_title" class="scatterplot-title"> Gene Embedding <div class="legends"><span class="legend-node" style="color:#B6E880;"> ● </span><span class="legend-text"> Selected</span><span class="legend-node" style="color:#AB63FA;"> ● </span><span class="legend-text"> Disease</span><span class="legend-node" style="color:#AB63FA;"> ● </span><span class="legend-text"> Primary Gene</span><span class="legend-node" style="color:#636EFA;"> ● </span><span class="legend-text"> Partner Gene</span><span class="legend-node" style="color:#FFA15A;"> ● </span><span class="legend-text"> Validated</span><span class="legend-node" style="color:#19D3F3;"> ● </span><span class="legend-text"> Predicted</span><span class="legend-node" style="color:rgb(239, 85, 59);"> ● </span><span class="legend-text"> Correct</span></div></div>',1),ot={class:"scatterplot-container"},lt=(0,a.Lk)("svg",{class:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024","data-v-ea893728":""},[(0,a.Lk)("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 0 1 128 512h64a320 320 0 0 0 555.712 216.448H654.72a32 32 0 1 1 0-64h149.056a32 32 0 0 1 32 32v148.928a32 32 0 1 1-64 0v-50.56zM276.288 295.616h92.992a32 32 0 0 1 0 64H220.16a32 32 0 0 1-32-32V178.56a32 32 0 0 1 64 0v50.56A384 384 0 0 1 896.128 512h-64a320 320 0 0 0-555.776-216.384z"})],-1),ct=(0,a.Fv)('<div id="scatterplot"></div><div id="lasso-selection-count" class="lasso-selection-count"><span style="color:#B6E880;">●</span>: 0 </div><div id="color-points-count" class="color-points-count" style="display:none;"><span style="color:#FFA15A;">●</span>: 0 <span style="color:rgb(239, 85, 59);">●</span>: 0 </div>',3),dt=n(5458),ht=n(9636),ut={name:"scatterplot",data:function(){return{currentTransform:O.zoomIdentity,xScale:null,yScale:null,outerSvg:null,resetdiseaseGenes:null,selectRelevantGene:null,geneData:{},geneData1:{},relevantGenes:[],allknownGenes:null,knownGenes:[],gene_pos:{},allGenesPredictions:{},selectedcolor:"#B6E880",defaultcolor:"gray",relevantcolor:"#19D3F3",diseasecolor:"#AB63FA",relevantknowncolor:"rgb(239, 85, 59)",gene1color:"#AB63FA",gene2color:"#636EFA",knowncolor:"#FFA15A"}},mounted:function(){var t=this;this.fetchDataAndDrawPlot(),C.on("highlight-disease-genes-radar",(function(e){return t.highlightDiseaseGenesRadar(e)})),C.on("highlight-disease-genes",(function(e){return t.highlightDiseaseGenes(e)})),C.on("clear-highlightDisease",this.clearHighlightDisease),C.on("highlight-gene1",this.highlightGene1),C.on("clear-highlight1",this.clearHighlight1),C.on("clear-highlight1-1",(function(e){return t.clearHighlight11(e)})),C.on("highlight-gene2",this.highlightGene2),C.on("clear-highlight2",this.clearHighlight2),C.on("highlight-known-genes",this.highlightKnownGenes),C.on("highlight-relevant-genes",this.highlightRelevantGenes),C.on("allGenesPredictions",(function(e){t.allGenesPredictions=e})),C.on("highlight-relevant-known",(function(e){t.relevantGenes,t.knownGenes=e,t.highlightRelevantAndKnownGenes(t.relevantGenes,t.knownGenes)}))},beforeDestroy:function(){C.off("highlight-disease-genes",this.highlightDiseaseGenes),C.off("clear-highlightDisease",this.clearHighlightDisease),C.off("highlight-gene1",this.highlightGene1),C.off("clear-highlight1",this.clearHighlight1),C.off("clear-highlight1-1",this.clearHighlight11),C.off("highlight-gene2",this.highlightGene2),C.off("clear-highlight2",this.clearHighlight2),C.off("highlight-known-genes",this.highlightKnownGenes),C.off("highlight-relevant-genes",this.highlightRelevantGenes),C.off("highlight-relevant-known",this.highlightRelevantAndKnownGenes)},methods:{fetchDataAndDrawPlot:function(){var t=this;O.json("static/Embedding/umap_results_k6_n_neighbors3_min_dist10e-4.json",(function(e,n){if(t.gene_pos=n,e)throw e;t.drawScatterPlot(n)})),this.initializeCountsDisplay()},initializeCountsDisplay:function(){var t=document.getElementById("color-points-count");t&&(t.innerHTML='\n                <span style="color: #FFA15A;">●</span>: 0 <br/>\n                <span style="color: rgb(239, 85, 59);">●</span>: 0\n            ')},updateCountsDisplay:function(){var t=this.selectedGene1&&(O.select(".highlight-layer").selectAll("circle.highlighted-gene1").size()>0||O.select(".highlight-layer").selectAll("circle.highlighted-known").size()>0||O.select(".highlight-layer").selectAll("circle.highlighted-relevant-known").size()>0),e=document.getElementById("lasso-selection-count"),n=document.getElementById("color-points-count");if(t){var a=O.select(".highlight-layer").selectAll("circle.highlighted-known").size(),r=O.select(".highlight-layer").selectAll("circle.highlighted-relevant-known").size();r/=2,n.innerHTML='\n                    <span style="color: #FFA15A;">●</span>: '.concat(a,'<br/>\n                    <span style="color: rgb(239, 85, 59);">●</span>: ').concat(r,"\n                "),n.style.display="block",e.style.display="none"}else{var i=O.selectAll(".base-layer circle[fill=\\".concat(this.selectedcolor,"]")).size();e.innerHTML='<span style="color: #B6E880;">●</span>: '.concat(i),n.style.display="none",e.style.display="block"}},resetScatterPlot:function(){this.currentTransform=O.zoomIdentity,C.emit("reset-scatterplot"),O.select("#scatterplot").html(""),this.fetchDataAndDrawPlot()},initializeZoom:function(){var t=this;if(t.outerSvg){var e=O.zoom().scaleExtent([1,100]).on("zoom",(function(e){return t.handleZoom(e)}));t.outerSvg.call(e)}},handleZoom:function(){this.currentTransform=O.event.transform,this.updateVisuals(this.currentTransform)},updateVisuals:function(t){var e=this,n=t.k;O.select(".base-layer").selectAll("circle.embedding-nodes").attr("cx",(function(n){return t.applyX(e.xScale(n.x))})).attr("cy",(function(n){return t.applyY(e.yScale(n.y))})),O.select(".highlight-layer").selectAll("circle.highlighted-gene1").attr("cx",(function(n){return t.applyX(e.xScale(n.x))})).attr("cy",(function(n){return t.applyY(e.yScale(n.y))})),O.select(".highlight-layer").selectAll("circle.highlighted-gene2").attr("cx",(function(n){return t.applyX(e.xScale(n.x))})).attr("cy",(function(n){return t.applyY(e.yScale(n.y))})),O.select(".highlight-layer").selectAll("circle.highlighted-known").attr("cx",(function(n){return t.applyX(e.xScale(n.x))})).attr("cy",(function(n){return t.applyY(e.yScale(n.y))})),O.select(".highlight-layer").selectAll("circle.highlighted-relevant").attr("cx",(function(n){return t.applyX(e.xScale(n.x))})).attr("cy",(function(n){return t.applyY(e.yScale(n.y))})),O.select(".highlight-layer").selectAll("circle.highlighted-relevant-known").attr("cx",(function(n){return t.applyX(e.xScale(n.x))})).attr("cy",(function(n){return t.applyY(e.yScale(n.y))})),O.select(".highlight-layer-disease").selectAll("circle.highlighted-disease").attr("cx",(function(n){return t.applyX(e.xScale(n.x))})).attr("cy",(function(n){return t.applyY(e.yScale(n.y))})),O.select(".highlight-layer").selectAll(".rank-indicator").each((function(n){var a=n.angle,r=n.lineLength1,i=n.lineLength2,s=t.applyX(e.xScale(n.x))+r*Math.cos(a),o=t.applyY(e.yScale(n.y))+r*Math.sin(a),l=t.applyX(e.xScale(n.x))+i*Math.cos(a),c=t.applyY(e.yScale(n.y))+i*Math.sin(a);O.select(this).attr("x1",s).attr("y1",o).attr("x2",l).attr("y2",c)})),O.select(".highlight-layer").selectAll("path.rank-arc").attr("transform",(function(t){var n=e.currentTransform?e.currentTransform.applyX(e.xScale(t.x)):e.xScale(t.x),a=e.currentTransform?e.currentTransform.applyY(e.yScale(t.y)):e.yScale(t.y);return"translate(".concat(n,",").concat(a,")")})),O.select(".line-layer").selectAll("line.connection-line").each((function(n){O.select(this).attr("x1",t.applyX(e.xScale(n.source.x))).attr("y1",t.applyY(e.yScale(n.source.y))).attr("x2",t.applyX(e.xScale(n.target.x))).attr("y2",t.applyY(e.yScale(n.target.y)))})),O.select(".radar-layer").selectAll(".radar-outer").attr("cx",(function(e){return t.applyX(e.x)})).attr("cy",(function(e){return t.applyY(e.y)})),O.select(".radar-layer").selectAll(".radar-round").attr("cx",(function(e){return t.applyX(e.x)})).attr("cy",(function(e){return t.applyY(e.y)})),O.select(".radar-layer").selectAll(".radar-group").each((function(){var e=O.select(this).datum(),a=e.points.reduce((function(t,e){return Math.max(t,e.radius)}),0);O.select(this).selectAll(".radar-circle").attr("cx",(function(r){return t.applyX(e.x+r.radius/n*(30/a)*Math.cos(r.angle))})).attr("cy",(function(r){return t.applyY(e.y+r.radius/n*(30/a)*Math.sin(r.angle))}))}))},drawScatterPlot:function(t){var e=this,n=this,a=.99,r=6.210000000000005,i=2.5100000000000025;O.select("#scatterplot").html(""),n.outerSvg=O.select("#scatterplot").append("svg").attr("width",1242).attr("height",502);var s=n.outerSvg.append("g").attr("class","base-layer").attr("transform","translate(".concat(r,", ").concat(i,") scale(").concat(a,", ").concat(a,")"));this.lineLayer=n.outerSvg.append("g").attr("class","line-layer").attr("transform","translate(".concat(r,", ").concat(i,") scale(").concat(a,", ").concat(a,")")),this.highlightLayer=n.outerSvg.append("g").attr("class","highlight-layer").attr("transform","translate(".concat(r,", ").concat(i,") scale(").concat(a,", ").concat(a,")")),this.radarLayer=n.outerSvg.append("g").attr("class","radar-layer").attr("transform","translate(".concat(r,", ").concat(i,") scale(").concat(a,", ").concat(a,")")),this.highlightLayer_disease=n.outerSvg.append("g").attr("class","highlight-layer-disease").attr("transform","translate(".concat(r,", ").concat(i,") scale(").concat(a,", ").concat(a,")"));var o=O.select("body").append("div").attr("class","tooltip").style("opacity",0),l=Object.entries(t).map((function(t){var e=(0,k.A)(t,2),n=e[0],a=e[1];return{name:n,x:a[0],y:a[1]}}));O.select("body").on("click",(function(){o.style("opacity",0)})),this.xScale=O.scaleLinear().domain([O.min(l,(function(t){return t.x})),O.max(l,(function(t){return t.x}))]).range([r,1235.79]),this.yScale=O.scaleLinear().domain([O.min(l,(function(t){return t.y})),O.max(l,(function(t){return t.y}))]).range([i,499.49]);var c=s.selectAll(".circle").data(l).enter().append("g");c.append("circle").attr("class","embedding-nodes").attr("cx",(function(t){return e.xScale(t.x)})).attr("cy",(function(t){return e.yScale(t.y)})).attr("r",3).attr("fill",n.defaultcolor).attr("fill-opacity",.6).attr("data-name",(function(t){return t.name})).on("click",(function(t){var e=O.select(this).attr("fill");O.select(this).attr("fill",e===n.defaultcolor?n.selectedcolor:n.defaultcolor).raise(),n.updateSelectionCount();var a=O.event.pageX,r=O.event.pageY;"gray"===e?(o.transition().style("opacity",1),o.html(t.name).style("left",a+"px").style("top",r+"px")):o.transition().style("opacity",0)})),this.lasso=(0,ht.lasso)().closePathDistance(1e3).closePathSelect(!0).items(c).targetArea(n.outerSvg).on("start",(function(){})).on("draw",(function(){})).on("end",function(){var t=this.lasso.selectedItems(),e=[];t._groups.forEach((function(t){t.forEach((function(t){e.push(t.__data__.name)}))}));var n=O.select("#scatterplot").select("svg"),a=n.select(".highlight-layer-disease"),r=n.select(".highlight-layer");C.emit("lassoEnd",e),c.selectAll("circle").attr("fill",this.defaultcolor),a.selectAll("circle").attr("fill",this.diseasecolor),r.selectAll("circle.highlighted-relevant").attr("fill",this.relevantcolor),r.selectAll("circle.highlighted-relevant-known").attr("fill",this.relevantknowncolor),this.resetdiseaseGenes&&this.resetdiseaseGenes.length>0?a.selectAll("circle").filter((function(e){return t.data().map((function(t){return t.name})).includes(e.name)})).attr("fill",this.selectedcolor).raise():t.selectAll("circle").attr("fill",this.selectedcolor).raise(),this.selectRelevantGene&&this.selectRelevantGene.length>0?r.selectAll("circle").filter((function(e){return t.data().map((function(t){return t.name})).includes(e.name)})).attr("fill",this.selectedcolor).raise():t.selectAll("circle").attr("fill",this.selectedcolor).raise();var i=t.size(),s=document.getElementById("lasso-selection-count");s&&(s.textContent="●: ".concat(i)),this.updateCountsDisplay()}.bind(this)),n.outerSvg.call(this.lasso),this.initializeZoom()},clearAllHighlightsAndLines:function(){var t=O.select("#scatterplot").select("svg"),e=t.select(".highlight-layer"),n=t.select(".line-layer");this.clearHighlight2(),e.selectAll(".highlighted-disease").attr("fill",this.diseasecolor),n.selectAll(".connection-line").remove(),this.initializeCountsDisplay()},resetSelectedCount:function(){var t=document.getElementById("lasso-selection-count");t&&(t.textContent="●: 0"),this.initializeCountsDisplay()},highlightDiseaseGenes:function(t){this.resetdiseaseGenes=t;var e=this,n=O.select("#scatterplot").select("svg"),a=n.select(".highlight-layer-disease"),r=n.select(".base-layer"),i=n.select(".radar-layer"),s=O.select("body").select(".tooltip");r.selectAll("circle").attr("fill",e.defaultcolor),a.selectAll("circle.highlighted-disease").remove(),i.selectAll("circle.radar").remove(),i.selectAll("circle.radar-circle").remove(),i.selectAll("circle.radar-outer").remove();var o=n.selectAll("circle.embedding-nodes").data().filter((function(e){return t.includes(e.name)}));a.selectAll("circle.highlighted-disease").data(o).enter().append("circle").attr("class","highlighted-disease").attr("cx",(function(t){return e.currentTransform?e.currentTransform.applyX(e.xScale(t.x)):e.xScale(t.x)})).attr("cy",(function(t){return e.currentTransform?e.currentTransform.applyY(e.yScale(t.y)):e.yScale(t.y)})).attr("r",7).attr("fill",e.diseasecolor).attr("data-name",(function(t){return t.name})).on("mouseenter",(function(t){var n=O.event.pageX-60,r=O.event.pageY-150,o=t.name;s.transition().style("opacity",1),s.html(t.name).style("left",n+"px").style("top",r+"px"),i.selectAll(".radar-group.radar-".concat(t.name)).raise(),i.selectAll(".radar-outer").each((function(){var e=O.select(this).attr("data-original-radius");O.select(this).attr("r",3*e),O.select(this.parentNode).classed("radar-".concat(t.name))?O.select(this).style("fill","white").style("fill-opacity",.8).style("stroke-opacity",1):O.select(this).style("fill-opacity",0).style("stroke-opacity",0)})),i.selectAll(".radar-round").each((function(){var e=O.select(this).attr("data-original-radius");O.select(this).attr("r",3*e),O.select(this.parentNode).classed("radar-".concat(t.name))?O.select(this).style("stroke","grey").style("stroke-width",1).style("stroke-opacity",1):O.select(this).style("stroke-opacity",0)})),i.selectAll(".radar-circle").each((function(){O.select(this).style("fill-opacity",0)})),a.selectAll("circle.highlighted-disease").filter((function(e){return e.name!==t.name})).style("fill-opacity",0);var l=e.generateRadarChartData1(t.name),c=e.currentTransform?e.currentTransform.applyX(e.xScale(t.x)):e.xScale(t.x),d=e.currentTransform?e.currentTransform.applyY(e.yScale(t.y)):e.yScale(t.y);e.geneData1={x:c,y:d,points:l.map((function(t){return{name:t.name,angle:t.angle,radius:t.radius}}))};var h=i.append("g").datum(e.geneData1).attr("class","radar-group-1 radar-".concat(t.name));l.forEach((function(){h.selectAll(".radar-circle-1").data(e.geneData1.points).enter().append("circle").attr("class","radar-circle-1").attr("cx",(function(t){return c+Math.cos(t.angle)*t.radius})).attr("cy",(function(t){return d+Math.sin(t.angle)*t.radius})).attr("r",4).style("fill",(function(t){var n=e.allGenesPredictions[o]||[],a=e.allknownGenes[o]||[];return n.some((function(e){return a.includes(e.geneb)&&e.geneb===t.name}))?e.relevantknowncolor:e.relevantcolor})).each((function(){O.select(this).style("fill")===e.relevantknowncolor&&O.select(this).raise()}))}))})).each((function(t){var n=e.currentTransform?e.currentTransform.applyX(e.xScale(t.x)):e.xScale(t.x),a=e.currentTransform?e.currentTransform.applyY(e.yScale(t.y)):e.yScale(t.y);e.drawRadarChartAroundPoint(n,a,t.name)}));var l=this.highlightLayer_disease.selectAll("circle.highlighted-disease");this.updateLassoItems(l)},clearHighlightDisease:function(){var t=O.select("#scatterplot").select("svg");t.select(".highlight-layer-disease").selectAll("circle.highlighted-disease").remove();var e=t.select(".radar-layer");e.selectAll("circle.radar").remove(),e.selectAll("circle.radar-circle").remove(),e.selectAll("circle.radar-outer").remove();var n=O.select(".base-layer").selectAll("circle.embedding-nodes");this.updateLassoItems(n)},highlightGene1:function(t){var e=this;this.resetSelectedCount();var n=O.select("body").select(".tooltip"),a=O.select("#scatterplot").select("svg");a.select(".base-layer").selectAll("circle").attr("fill",e.defaultcolor);var r=a.select(".highlight-layer");r.selectAll("circle.highlighted-gene1").remove(),r.selectAll("circle.highlighted-disease").style("display","none"),a.select(".highlight-layer-disease").selectAll("circle.highlighted-disease").remove();var i=a.select(".radar-layer");i.selectAll("circle.radar-round").remove(),i.selectAll("circle.radar-circle").remove(),i.selectAll("circle.radar-outer").remove(),a.selectAll("tooltip").remove(),a.selectAll("circle").each((function(a){a&&a.name===t&&r.append("circle").datum(a).attr("cx",(function(t){return e.currentTransform?e.currentTransform.applyX(e.xScale(t.x)):e.xScale(t.x)})).attr("cy",(function(t){return e.currentTransform?e.currentTransform.applyY(e.yScale(t.y)):e.yScale(t.y)})).attr("r",5).attr("fill",e.gene1color).attr("class","highlighted-gene1").on("mouseenter",(function(){var e=O.event.pageX,a=O.event.pageY;n.transition().style("opacity",1),n.html(t).style("left",e+"px").style("top",a+"px")})).on("mouseleave",(function(){n.transition().style("opacity",0)}))})),this.selectedGene1=t,this.updateCountsDisplay(),this.updateLines()},clearHighlight1:function(){var t=O.select("#scatterplot").select("svg"),e=t.select(".highlight-layer");e.selectAll("circle.highlighted-gene1").remove(),e.selectAll("circle.highlighted-gene2").remove(),e.selectAll("circle.highlighted-relevant").remove(),e.selectAll("circle.highlighted-known").remove(),e.selectAll("circle.highlighted-relevant-known").remove(),e.selectAll("line.rank-indicator").remove(),e.selectAll("path.rank-arc").remove(),e.selectAll("circle.highlighted-disease").style("display","block");var n=O.select(".base-layer").selectAll("circle.embedding-nodes");this.updateLassoItems(n),t.selectAll(".connection-line").remove(),this.initializeCountsDisplay(),this.selectedGene1=null,this.updateCountsDisplay()},clearHighlight11:function(t){var e=O.select("#scatterplot").select("svg"),n=e.select(".highlight-layer");n.selectAll("circle.highlighted-gene1").remove(),n.selectAll("circle.highlighted-gene2").remove(),n.selectAll("circle.highlighted-relevant").remove(),n.selectAll("circle.highlighted-known").remove(),n.selectAll("circle.highlighted-relevant-known").remove(),n.selectAll("line.rank-indicator").remove(),n.selectAll("path.rank-arc").remove(),n.selectAll("circle.highlighted-disease").style("display","block"),e.selectAll(".connection-line").remove(),this.initializeCountsDisplay(),this.selectedGene1=null,this.updateCountsDisplay(),this.highlightDiseaseGenes(t)},highlightGene2:function(t){var e=this,n=O.select("body").select(".tooltip"),a=O.select("#scatterplot").select("svg"),r=a.select(".highlight-layer");r.selectAll("circle.highlighted-gene2").remove(),a.selectAll("circle.embedding-nodes").each((function(a){var i=t.find((function(t){return t.name===a.name}));i&&r.append("circle").datum(a).attr("cx",(function(t){return e.currentTransform?e.currentTransform.applyX(e.xScale(t.x)):e.xScale(t.x)})).attr("cy",(function(t){return e.currentTransform?e.currentTransform.applyY(e.yScale(t.y)):e.yScale(t.y)})).attr("r",5).attr("fill",e.gene2color).attr("class","highlighted-gene2").on("mouseenter",(function(){var t=O.event.pageX,e=O.event.pageY;n.transition().style("opacity",1),n.html("".concat(i.name,"<br/>Score: ").concat(i.score,"<br/>Rank: ").concat(i.rank)).style("left",t+"px").style("top",e+"px")})).on("mouseleave",(function(){n.transition().style("opacity",0)}))})),this.updateLines()},clearHighlight2:function(){O.select("#scatterplot").select("svg").select(".highlight-layer").selectAll("circle.highlighted-gene2").remove()},highlightKnownGenes:function(t){var e=this,n=O.select("#scatterplot").select("svg"),a=n.select(".highlight-layer"),r=O.select("body").select(".tooltip");a.selectAll("circle.highlighted-known").remove(),n.selectAll("circle").each((function(n){var i=O.select(this).attr("data-name");t.includes(i)&&a.append("circle").datum(n).attr("cx",(function(t){return e.currentTransform?e.currentTransform.applyX(e.xScale(t.x)):e.xScale(t.x)})).attr("cy",(function(t){return e.currentTransform?e.currentTransform.applyY(e.yScale(t.y)):e.yScale(t.y)})).attr("r",5).attr("fill",e.knowncolor).attr("opacity",.5).attr("class","highlighted-known").on("mouseenter",(function(){var t=O.event.pageX,e=O.event.pageY;r.transition().style("opacity",1),r.html(i).style("left",t+"px").style("top",e+"px")})).on("mouseleave",(function(){r.transition().style("opacity",0)}))}))},highlightRelevantGenes:function(t){this.selectRelevantGene=t;var e=this,n=O.select("body").select(".tooltip"),a=O.select("#scatterplot").select("svg"),r=a.select(".highlight-layer");r.selectAll("circle.highlighted-relevant").remove(),r.selectAll("line.rank-indicator").remove(),r.selectAll("path.rank-arc").remove(),a.selectAll("circle").each((function(a){var i=O.select(this).attr("data-name"),s=t.find((function(t){return t.gene===i}));if(s){var o=s.rank/50*2*Math.PI-Math.PI/2,l=s.rank/50*2*Math.PI,c=O.arc().innerRadius(5).outerRadius(15).startAngle(0).endAngle(l);r.append("path").datum(Object.assign({},a)).attr("d",c()).attr("transform","translate(".concat(e.currentTransform?e.currentTransform.applyX(e.xScale(a.x)):e.xScale(a.x),",").concat(e.currentTransform?e.currentTransform.applyY(e.yScale(a.y)):e.yScale(a.y),")")).attr("fill","#53CBFF").attr("fill-opacity",.5).attr("class","rank-arc").attr("data-name",i).attr("data-score",s.score).attr("data-rank",s.rank).on("mouseenter",(function(){var t=O.event.pageX,e=O.event.pageY;n.transition().style("opacity",.9),n.html("".concat(O.select(this).attr("data-name"),"<br/>Score: ").concat(O.select(this).attr("data-score"),"<br/>Rank: ").concat(O.select(this).attr("data-rank"))).style("left",t+"px").style("top",e+"px")})).on("mouseleave",(function(){n.transition().style("opacity",0)})),r.append("circle").datum(a).attr("cx",(function(t){return e.currentTransform?e.currentTransform.applyX(e.xScale(t.x)):e.xScale(t.x)})).attr("cy",(function(t){return e.currentTransform?e.currentTransform.applyY(e.yScale(t.y)):e.yScale(t.y)})).attr("r",5).attr("fill",e.relevantcolor).attr("stroke","#008BA3").attr("stroke-width",.5).attr("class","highlighted-relevant").attr("data-name",i).attr("data-score",s.score).attr("data-rank",s.rank).on("mouseenter",(function(){var t=O.event.pageX,e=O.event.pageY;n.transition().style("opacity",.9),n.html("".concat(O.select(this).attr("data-name"),"<br/>Score: ").concat(O.select(this).attr("data-score"),"<br/>Rank: ").concat(O.select(this).attr("data-rank"))).style("left",t+"px").style("top",e+"px")})).on("mouseleave",(function(){n.transition().style("opacity",0)})),r.append("line").datum(Object.assign({},a,{angle:o,lineLength1:5,lineLength2:15})).attr("x1",(function(t){return e.currentTransform?e.currentTransform.applyX(e.xScale(t.x))+5*Math.cos(o):e.xScale(t.x)+5*Math.cos(o)})).attr("y1",(function(t){return e.currentTransform?e.currentTransform.applyY(e.yScale(t.y))+5*Math.sin(o):e.yScale(t.y)+5*Math.sin(o)})).attr("x2",(function(t){return e.currentTransform?e.currentTransform.applyX(e.xScale(t.x))+15*Math.cos(o):e.xScale(t.x)+15*Math.cos(o)})).attr("y2",(function(t){return e.currentTransform?e.currentTransform.applyY(e.yScale(t.y))+15*Math.sin(o):e.yScale(t.y)+15*Math.sin(o)})).attr("stroke","#008BA3").attr("stroke-width",2).attr("class","rank-indicator").attr("data-name",i).attr("data-score",s.score).attr("data-rank",s.rank).on("mouseenter",(function(){var t=O.event.pageX,e=O.event.pageY;n.transition().style("opacity",.9),n.html("".concat(O.select(this).attr("data-name"),"<br/>Score: ").concat(O.select(this).attr("data-score"),"<br/>Rank: ").concat(O.select(this).attr("data-rank"))).style("left",t+"px").style("top",e+"px")})).on("mouseleave",(function(){n.transition().style("opacity",0)}))}}));var i=this.highlightLayer.selectAll("circle.highlighted-relevant");this.updateLassoItems(i)},highlightRelevantAndKnownGenes:function(t,e){var n=this,a=O.select("#scatterplot").select("svg"),r=a.select(".highlight-layer"),i=O.select("body").select(".tooltip");r.selectAll("circle.highlighted-relevant-known").remove(),a.selectAll("circle").each((function(t){var a=O.select(this).attr("data-name"),s=e.relevantGenes.find((function(t){return t.gene===a}));s&&e.knownGenes.includes(a)&&r.append("circle").datum(t).attr("cx",(function(t){return n.currentTransform?n.currentTransform.applyX(n.xScale(t.x)):n.xScale(t.x)})).attr("cy",(function(t){return n.currentTransform?n.currentTransform.applyY(n.yScale(t.y)):n.yScale(t.y)})).attr("r",5).attr("fill",n.relevantknowncolor).attr("class","highlighted-relevant-known").attr("data-name",a).attr("data-score",s.score).attr("data-rank",s.rank).on("mouseenter",(function(){var t=O.event.pageX,e=O.event.pageY;i.transition().style("opacity",.9),i.html("".concat(O.select(this).attr("data-name"),"<br/>Score: ").concat(O.select(this).attr("data-score"),"<br/>Rank: ").concat(O.select(this).attr("data-rank"))).style("left",t+"px").style("top",e+"px")})).on("mouseleave",(function(){i.transition().style("opacity",0)}))}))},updateLines:function(){var t=this,e=O.select(".line-layer");e.selectAll(".connection-line").remove();var n=[],a=[],r=O.selectAll("circle.highlighted-gene1").data(),i=O.selectAll("circle.highlighted-gene2").data(),s=O.selectAll("circle.highlighted-relevant").data();r.forEach((function(t){i.forEach((function(e){n.push({source:t,target:e})}))})),e.selectAll(".connection-line").data(n).enter().append("line").attr("x1",(function(e){return t.currentTransform?t.currentTransform.applyX(t.xScale(e.source.x)):t.xScale(e.source.x)})).attr("y1",(function(e){return t.currentTransform?t.currentTransform.applyY(t.yScale(e.source.y)):t.yScale(e.source.y)})).attr("x2",(function(e){return t.currentTransform?t.currentTransform.applyX(t.xScale(e.target.x)):t.xScale(e.target.x)})).attr("y2",(function(e){return t.currentTransform?t.currentTransform.applyY(t.yScale(e.target.y)):t.yScale(e.target.y)})).attr("stroke","black").attr("stroke-width",.5).attr("class","connection-line"),r.forEach((function(t){s.forEach((function(e){a.push({source:t,target:e})}))})),e.selectAll(".connection-line").data(a).enter().append("line").attr("x1",(function(e){return t.currentTransform?t.currentTransform.applyX(t.xScale(e.source.x)):t.xScale(e.source.x)})).attr("y1",(function(e){return t.currentTransform?t.currentTransform.applyY(t.yScale(e.source.y)):t.yScale(e.source.y)})).attr("x2",(function(e){return t.currentTransform?t.currentTransform.applyX(t.xScale(e.target.x)):t.xScale(e.target.x)})).attr("y2",(function(e){return t.currentTransform?t.currentTransform.applyY(t.yScale(e.target.y)):t.yScale(e.target.y)})).attr("stroke","black").attr("stroke-width",.5).attr("opacity",.3).attr("stroke-dasharray","5,5").attr("class","connection-line")},updateSelectionCount:function(){var t=O.select(".base-layer").selectAll("circle[fill=\\".concat(this.selectedcolor,"]")).size(),e=document.getElementById("lasso-selection-count");e&&(e.textContent="●: ".concat(t))},updateLassoItems:function(t){this.lasso.items(t)},drawRadarChartAroundPoint:function(t,e,n){var a=this,r=O.select("#scatterplot").select("svg").select(".highlight-layer-disease"),i=this.generateRadarChartData(n),s=Math.min(i.length,4),o=O.select("#scatterplot").select(".radar-layer"),l=O.select("body").select(".tooltip");this.geneData={name:n,x:t,y:e,points:i.map((function(t){return{name:t.name,angle:t.angle,radius:t.radius}}))};for(var c=o.append("g").datum(this.geneData).attr("class","radar-group radar-".concat(n)),d=0;d<=s;d++){var h=10+30/s*d;c.append("circle").attr("class","radar-round").attr("cx",t).attr("cy",e).attr("r",h).attr("data-original-radius",h).style("fill","white").style("fill-opacity",0).style("stroke","#d9d9d9").style("stroke-width",.5).style("stroke-opacity",.1)}c.append("circle").attr("class","radar-outer").attr("cx",t).attr("cy",e).attr("r",40).attr("data-original-radius",40).style("stroke","#d9d9d9").style("stroke-width",1).style("stroke-opacity",.1).style("fill","white").style("fill-opacity",.1);var u=Math.max.apply(Math,(0,dt.A)(this.geneData.points.map((function(t){return t.radius}))));c.selectAll(".radar-circle").data(this.geneData.points).enter().append("circle").attr("class","radar-circle").attr("cx",(function(e){return t+e.radius/u*40*Math.cos(e.angle)})).attr("cy",(function(t){return e+t.radius/u*40*Math.sin(t.angle)})).attr("r",2).style("fill",(function(t){var e=a.allGenesPredictions[a.geneData.name]||[],n=a.allknownGenes[a.geneData.name]||[];return e.some((function(e){return n.includes(e.geneb)&&e.geneb===t.name}))?a.relevantknowncolor:a.relevantcolor})).style("fill-opacity",(function(t){var e=a.allGenesPredictions[a.geneData.name]||[],n=a.allknownGenes[a.geneData.name]||[];return e.some((function(e){return n.includes(e.geneb)&&e.geneb===t.name}))?.9:.3})),c.on("mouseenter",(function(){var t=O.event.pageX-60,e=O.event.pageY-150;l.transition().style("opacity",1),l.html(n).style("left",t+"px").style("top",e+"px")})).on("mouseleave",(function(){o.selectAll(".radar-group-1").remove(),o.selectAll(".radar-outer").each((function(){var t=O.select(this).attr("data-original-radius");O.select(this).attr("r",t)})).style("fill-opacity",.1).style("stroke-opacity",.1),o.selectAll(".radar-round").each((function(){var t=O.select(this).attr("data-original-radius");O.select(this).attr("r",t)})).style("stroke","#d9d9d9").style("stroke-opacity",.1).raise(),o.selectAll(".radar-circle").style("fill-opacity",(function(){return O.select(this).style("fill")===a.relevantknowncolor?.9:.3})).raise(),r.selectAll("circle.highlighted-disease").style("fill-opacity",1),l.transition().style("opacity",0)}))},generateRadarChartData:function(t){var e=this;if(this.resetdiseaseGenes.includes(t)){var n=this.gene_pos[t];return n?this.allGenesPredictions[t].map((function(t){var a=e.gene_pos[t.geneb];if(!a)return null;var r=Math.sqrt(Math.pow(a[0]-n[0],2)+Math.pow(a[1]-n[1],2)),i=Math.atan2(a[1]-n[1],a[0]-n[0]);return{name:t.geneb,radius:r,angle:i}})).filter((function(t){return null!==t})):(console.log("Center gene position not found."),[])}return console.log("Gene name not found in reset disease genes."),[]},generateRadarChartData1:function(t){var e=this;if(this.resetdiseaseGenes.includes(t)){var n=this.gene_pos[t];return n?this.allGenesPredictions[t].map((function(t){var a=e.gene_pos[t.geneb];if(!a)return null;var r=5*Math.sqrt(Math.pow(a[0]-n[0],2)+Math.pow(a[1]-n[1],2)),i=Math.atan2(a[1]-n[1],a[0]-n[0]);return{name:t.geneb,radius:r,angle:i}})).filter((function(t){return null!==t})):(console.log("Center gene position not found."),[])}return console.log("Gene name not found in reset disease genes."),[]},highlightDiseaseGenesRadar:function(t){this.allknownGenes=t}}},pt=(0,G.A)(ut,[["render",function(t,e,n,r,i,s){var o=Z.S2;return(0,a.uX)(),(0,a.CE)("div",null,[st,(0,a.Lk)("div",ot,[(0,a.bF)(o,{class:"overlay-button",onClick:t.resetScatterPlot},{default:(0,a.k6)((function(){return[lt]})),_:1},8,["onClick"]),ct])])}]]),gt=(0,a.Fv)('<div class="G-title" data-v-cf4c657c> Interpretive Path <div class="legends" data-v-cf4c657c><span class="legend-node" style="color:#9ECA80;opacity:0.5;" data-v-cf4c657c> ■ </span><span class="legend-text" data-v-cf4c657c> Gene</span><span class="legend-node" style="color:#FFC488;opacity:0.5;" data-v-cf4c657c> ■ </span><span class="legend-text" data-v-cf4c657c> CC</span><span class="legend-node" style="color:#98CAF7;opacity:0.5;" data-v-cf4c657c> ■ </span><span class="legend-text" data-v-cf4c657c> BP</span><span class="legend-node" style="color:#F7A8C3;opacity:0.5;" data-v-cf4c657c> ■ </span><span class="legend-text" data-v-cf4c657c> MF</span><span class="legend-node" style="color:#CDC0DB;opacity:0.5;" data-v-cf4c657c> ■ </span><span class="legend-text" data-v-cf4c657c> Pathway</span></div></div><div class="G-container" data-v-cf4c657c></div>',2),ft={ref:"voronoiTreemap"},yt=n(4467),vt=n(6490),mt={data:function(){return{ReadLength:1,VoronoiHeight:120,HistogramHeight:24,SpacebetweenGroups:4,HistoNodeUpperMargin:43,HistoNodeLowerMargin:43,HistoLineLowerMargin:43,AllGeneData:{},geneName:[],selectedRects:[],TargetGenes:[],Results:[{0:[]},{1:[]},{2:[]},{3:[]}],RelationList:[{1:[]},{2:[]},{3:[]}],NodeList:[],nodePositions:[],correct:[],histogramLinePositions:[],histogramNodePositions:[],PackchartColors:{Gene:"#9ECA80",MF:"#F7A8C3",BP:"#98CAF7",CC:"#FFC488",Pathway:"#CDC0DB"},HistogramColors:["#800000","#FFA000","#A0785A","#FFC40C","#00693E","#00B7EB","#00B9E8","#6F00FF","#FF0080","#848482"]}},mounted:function(){var t=this;this.initializeData(),C.on("highlight-gene1",this.findSingleGene),C.on("highlight-gene2",this.findDualGenes),C.on("reset-scatterplot",this.Cleargene1),C.on("highlight-relevant-known",(function(e){t.relevantGenes=e.relevantGenes,t.knownGenes=e.knownGenes,t.correct=[],t.knownGenes.forEach((function(e){t.relevantGenes.includes(e)&&t.correct.append(e)}))})),C.on("clear-highlight1-packchart",this.Cleargene1)},beforeDestroy:function(){C.off("highlight-gene1",this.findSingleGene),C.off("highlight-gene2",this.findDualGenes),C.off("reset-scatterplot",this.Cleargene1)},methods:{initializeData:function(){var t=this;return(0,b.A)(A().mark((function e(){var n;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Reading ".concat(t.ReadLength," file(s), please check the amount of data you read.")),n=Array.from({length:t.ReadLength},(function(t,e){return"static/Casestudy/case_".concat(e+1,"_1.json")})),Promise.all(n.map((function(t){return fetch(t).then((function(t){if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return t.json()}))}))).then((function(e){e.forEach((function(e,n){t.AllGeneData["g".concat(n+1)]=e,console.log("Successfully Loaded Data.")}))})).catch((function(t){console.error("Error preloading JSON files:",t)}));case 3:case"end":return e.stop()}}),e)})))()},initializePackCharts:function(){O.select(".G-container").html("")},initResults:function(){this.Results=[{0:[]},{1:[]},{2:[]},{3:[]}],this.RelationList=[{0:[]},{1:[]},{2:[]},{3:[]}],this.NodeList=[]},mergeData:function(t){return t.map((function(t){var e=Object.keys(t)[0],n=t[e].reduce((function(t,e){return t[e.id]?t[e.id].value+=e.value:t[e.id]={id:e.id,value:e.value},t}),{});return(0,yt.A)({},e,Object.values(n))}))},updateNode:function(t,e,n,a,r,i,s){var o=this.Results[t][t.toString()],l=o.find((function(t){return t.id===e}));l||(l={id:e,value:0,category:i,source:{},to:{},sink:{},layer:t},o.push(l));var c=r?l.to:l.source;c[n]||(c[n]={}),c[n][a]||(c[n][a]=0),c[n][a]++;var d=r?l.sink:null;if(d){var h=s;d[h]||(d[h]={}),d[h][a]||(d[h][a]=0),d[h][a]++}var u=Object.values(l.source).reduce((function(t,e){return t+Object.values(e).reduce((function(t,e){return t+e}),0)}),0),p=Object.values(l.to).reduce((function(t,e){return t+Object.values(e).reduce((function(t,e){return t+e}),0)}),0);l.value=Math.max(u,p)},find:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise((function(a,r){try{t.forEach((function(t){Object.keys(e.AllGeneData).forEach((function(a){var r=e.AllGeneData[a][t];r&&(n&&0!==n.length?r.filter((function(t){return n.includes(t.geneb)})):r).forEach((function(t){t.paths.forEach((function(t){var n=t.layer+1,a=t.relation,r=t.head,i=t.tail,s=t.head_category,o=t.tail_category,l="".concat(o,"-").concat(s);e.NodeList[t.layer]||(e.NodeList[t.layer]=[]);var c=e.NodeList[t.layer].find((function(t){return t.type===l}));c?(c.value++,c.detail&&c.detail[a]?c.detail[a]++:(c.detail||(c.detail={}),c.detail[a]=1)):e.NodeList[t.layer].push({type:l,head:o,tail:s,value:1,detail:(0,yt.A)({},a,1)}),e.updateNode(n,r,i,t.relation,!1,t.head_category,t.tail_category),e.updateNode(n-1,i,r,t.relation,!0,t.tail_category,t.head_category);var d=e.RelationList[n]?e.RelationList[n][n]:[],h=d.findIndex((function(t){return t.id===a}));-1===h?d.push({id:a,value:1}):d[h].value+=1,e.RelationList[n]||(e.RelationList[n]={}),e.RelationList[n][n]=d}))}))}))})),e.RelationList=e.mergeData(e.RelationList),a()}catch(t){console.error("Error processing data:",t),r(t)}}))},drawHistogramLines:function(t,e,n,a,r){var i=this,s=this.mapY("histoline",r-1),o=[],l=this.HistoLineLowerMargin,c=e.append("svg").attr("width",n).attr("height",a+0+l),d=O.sum(Object.values(t)[0],(function(t){return t.value})),h=0,u={};Object.values(t)[0].forEach((function(t,e){u[t.id]=i.HistogramColors[e%i.HistogramColors.length]}));var p=O.scaleLinear().domain([0,100]).range([0,n]);Object.values(t)[0].forEach((function(t){var e=t.value/d*100;c.append("rect").attr("x",p(h)).attr("y",0).attr("width",p(e)).attr("height",a).attr("stroke","white").attr("stroke-width",.5).attr("fill",u[t.id]).attr("opacity",.5).on("mouseover",(function(){O.select("#tooltip").style("visibility","visible").text("".concat(t.id)).style("left",O.event.pageX+10+"px").style("top",O.event.pageY+10+"px")})).on("mouseout",(function(){O.select("#tooltip").style("visibility","hidden")})),o.push({id:t.id,x:p(h)+5,y:s}),h+=e})),this.histogramLinePositions[r]=o},drawHistogramNodes:function(t,e,n,a,r){var i=this,s=this.mapY("histonode",r-1),o=this.HistoNodeUpperMargin,l=this.HistoNodeLowerMargin,c=[],d=O.nest().key((function(t){return t.head})).entries(t);d.forEach((function(t){t.totalValue=O.sum(t.values,(function(t){return t.value}))}));var h=0,u=0;d.forEach((function(t){var r=O.sum(t.values,(function(t){return t.value})),p=r*(n/O.sum(d,(function(t){return t.totalValue})))-0-0,g=e.append("svg").attr("width",p+0+0).attr("height",a+o+l).style("transform","translate(".concat(h,"px, 0px)")).append("g").attr("transform","translate(0,"+o+")"),f=0;t.values.forEach((function(t){var e=p*(t.value/r);g.append("rect").attr("x",f).attr("y",0).attr("width",e).attr("height",a).attr("stroke","white").attr("stroke-width",.5).attr("fill",i.PackchartColors[t.tail]).style("fill-opacity",.5).on("mouseover",(function(){O.select("#tooltip").style("visibility","visible").text("".concat(t.type)).style("left",O.event.pageX+10+"px").style("top",O.event.pageY+10+"px")})).on("mouseout",(function(){O.select("#tooltip").style("visibility","hidden")})),c.push({type:t.type,x:u+f,y:s,detail:t.detail}),f+=e})),u+=10+f,h+=10})),this.histogramNodePositions[r]=c},mapY:function(t,e){var n=this.HistogramHeight+this.HistoLineLowerMargin+this.SpacebetweenGroups,a=this.VoronoiHeight+this.SpacebetweenGroups+this.HistoNodeUpperMargin,r=this.HistogramHeight+this.HistoNodeLowerMargin+this.SpacebetweenGroups,i=5;return"histonode"==t&&(i+=a),"histoline"==t&&(i+=a+r),i+e*(n+a+r)},createPackCharts:function(t,e,n){var a=this;this.histogramLinePositions=[],this.histogramNodePositions=[],this.nodePositions=[];var r=O.select(".G-container"),i=this.VoronoiHeight,s=this.HistogramHeight,o=parseInt(r.style("width"),10),l={},c=new Set;t.forEach((function(t){Object.values(t).flat().forEach((function(t){l["layer".concat(t.layer,"-").concat(t.id)]={parents:Object.keys(t.source).map((function(e){return"layer".concat(t.layer-1,"-").concat(e)})),children:Object.keys(t.to).map((function(e){return"layer".concat(t.layer+1,"-").concat(e)}))}}))})),r.html("");var d=r.append("svg").attr("class","line-svg").attr("width","100%").attr("height","100%").style("position","absolute").style("top",0).style("left",0).style("z-index",10).style("pointer-events","none");function h(t,e,n){if(!e.has(t)){e.add(t);var a=l[t];a&&("down"===n&&a.children.forEach((function(t){return h(t,e,"down")})),"up"===n&&a.parents.forEach((function(t){return h(t,e,"up")})))}}t.forEach((function(t,l){var d=a.mapY("packchart",l);l>0&&(a.drawHistogramNodes(n[l-1],r,o-40,s,l),a.drawHistogramLines(e[l],r,o,s,l));var u={};t[l].forEach((function(t){u[t.id]?u[t.id].value+=t.value:u[t.id]=Object.assign({},t)}));var p=Object.values(u).reduce((function(t,e){return t[e.category]||(t[e.category]={name:e.category,color:a.PackchartColors[e.category],children:[]}),t[e.category].children.push({id:e.id,value:e.value,to:e.to,source:e.source,sink:e.sink,layer:e.layer,category:e.category}),t}),{}),g={children:Object.values(p)},f=O.hierarchy(g).sum((function(t){return t.value})),y=vt.voronoiTreemap(),v=[[0,0],[o,0],[o,i],[0,i]];y.clip(v),y(f);var m=f.leaves().map((function(t){var e=O.polygonCentroid(t.polygon);return{id:t.data.id,x:e[0],y:e[1]+d,to:t.data.to,source:t.data.source,sink:t.data.sink,category:t.data.category,layer:t.data.layer}})),_=r.append("svg").attr("width",o).attr("height",i).attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle").selectAll("path.treemap-".concat(l)).data(f.leaves()).enter().append("path").attr("id",(function(t){return"layer".concat(t.data.layer,"-").concat(t.data.id)})).attr("class","treemap-".concat(l)).attr("d",(function(t){return"M"+t.polygon.map((function(t){return[t[0],t[1]].join(",")})).join("L")+"Z"})).style("fill",(function(t){return t.parent.data.color})).style("fill-opacity",.5).style("stroke","#B0B0B0").style("stroke-width",1);_.append("title").text((function(t){return"".concat(t.data.id,", Value: ").concat(t.data.value.toFixed(2))})),_.on("click",(function(t){var e,n,a,r;O.select(this).classed("highlighted")?(c.forEach((function(t){O.select("#".concat(t)).style("fill-opacity",.5).classed("highlighted",!1)})),c.clear()):(e=t.data,n="layer".concat(e.layer,"-").concat(e.id),a=new Set,r=new Set,h(n,a,"up"),h(n,r,"down"),a.forEach((function(t){c.add(t),O.select("#".concat(t)).style("fill-opacity",1)})),r.forEach((function(t){c.add(t),O.select("#".concat(t)).style("fill-opacity",1)})),O.select(this).classed("highlighted",!0))})),a.nodePositions[l]=m})),this.drawLines(this.nodePositions,this.histogramLinePositions,this.histogramNodePositions,d)},drawLines:function(t,e,n,a){t.forEach((function(t,e){var r=n[e+1];r&&t.forEach((function(t){Object.entries(t.sink).forEach((function(e){var n=(0,k.A)(e,2),i=n[0],s=n[1],o="".concat(t.category,"-").concat(i),l=r.find((function(t){return t.type===o}));l&&Object.keys(s).forEach((function(e,n){var r=O.path();r.moveTo(t.x+5,t.y);var i=(t.x+l.x)/2,s=(t.y+l.y)/2,o=10*(n-(Object.keys(t.sink).length-1)/2),c=l.y-75,d=i+o,h=t.y+(s-t.y)/2,u=l.x,p=c;r.bezierCurveTo(d,h,u,p,l.x+5,l.y),a.append("path").attr("d",r.toString()).attr("stroke","#A0A0A0").attr("stroke-width",1).attr("stroke-opacity",.3).attr("fill","none"),a.append("circle").attr("cx",t.x+5).attr("cy",t.y).attr("stroke","#A0A0A0").attr("stroke-width",.5).attr("r",2).attr("fill","none")}))}))}))})),n.forEach((function(t,n){if(t&&0!==n){var r=e[n];r&&t.forEach((function(t){Object.entries(t.detail).forEach((function(e){var n=(0,k.A)(e,1)[0],i=r.find((function(t){return t.id===n}));if(i){var s=O.path();s.moveTo(t.x+5,t.y+24);var o=i.y-25,l=t.x,c=o,d=i.x,h=o;s.bezierCurveTo(l,c,d,h,i.x,i.y),a.append("path").attr("d",s.toString()).attr("stroke","#A0A0A0").attr("stroke-width",1).attr("stroke-opacity",.3).attr("fill","none")}}))}))}})),t.forEach((function(t,n){0!==n&&t.forEach((function(t){Object.entries(t.source).forEach((function(r){var i=(0,k.A)(r,2)[1];Object.keys(i).forEach((function(r){var i=e[n].find((function(t){return t.id===r}));if(i){var s=O.path();s.moveTo(i.x,i.y+24);var o=i.y+75,l=i.x,c=o,d=t.x,h=o;s.bezierCurveTo(l,c,d,h,t.x+5,t.y),a.append("path").attr("d",s.toString()).attr("stroke","#A0A0A0").attr("stroke-width",1).attr("stroke-opacity",.1).attr("fill","none"),a.append("circle").attr("cx",t.x+5).attr("cy",t.y).attr("stroke","#A0A0A0").attr("stroke-width",.5).attr("r",2).attr("fill","none")}}))}))}))}))},Cleargene1:function(){this.geneName=[],this.initializePackCharts()},findGenesandShowGraph:function(t){var e=this;this.geneName=t,0!=t.length&&(this.initResults(),this.find(t).then((function(){e.createPackCharts(e.Results,e.RelationList,e.NodeList)})).catch((function(t){console.error("An error occurred:",t)})))},findSingleGene:function(t){var e=this;this.geneName=[t],this.initResults(),this.find(this.geneName).then((function(){e.createPackCharts(e.Results,e.RelationList,e.NodeList)})).catch((function(t){console.error("An error occurred:",t)}))},findDualGenes:function(t){var e=this;if(0!=this.geneName.length){var n=t.map((function(t){return t.name}));this.initResults(),this.TargetGenes=n,this.find(this.geneName,n).then((function(){e.createPackCharts(e.Results,e.RelationList,e.NodeList)})).catch((function(t){console.error("An error occurred:",t)}))}}}},_t={components:{A:D,C:F,D:U,E:it,F:pt,G:(0,G.A)(mt,[["render",function(t,e,n,r,i,s){return(0,a.uX)(),(0,a.CE)("div",null,[gt,(0,a.Lk)("div",ft,null,512)])}],["__scopeId","data-v-cf4c657c"]])}},xt=(0,G.A)(_t,[["render",function(t,e,n,r,i,s){var c=(0,a.g2)("A"),d=(0,a.g2)("C"),h=(0,a.g2)("D"),u=(0,a.g2)("E"),p=(0,a.g2)("F"),g=(0,a.g2)("G");return(0,a.uX)(),(0,a.CE)("div",o,[l,(0,a.bF)(c,{class:"a-container"}),(0,a.bF)(d,{class:"c-container"}),(0,a.bF)(h,{class:"f-container"}),(0,a.bF)(u,{class:"e-container"}),(0,a.bF)(p,{class:"d-container"}),(0,a.bF)(g,{class:"g-container"})])}]]),kt={class:"wrapper"},bt=[(0,a.Lk)("h1",null,"this is detail page",-1)],wt=n(3029),At=n(2901),Ct=n(4886),St=n.n(Ct),Gt=Symbol("createAxiosRequest"),Lt=Symbol("axiosRequest");St().interceptors.request.use((function(t){return(window.ActiveXObject||"ActiveXObject"in window)&&((t.params||{}).hash=Math.random(15)),t}),(function(t){return Promise.reject(t)})),St().interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)}));var Dt={headers:{"X-Requested-With":"XMLHttpRequest","content-type":"application/json"},timeout:6e4,withCredentials:!0},Et=function(){function t(){(0,wt.A)(this,t)}return(0,At.A)(t,null,[{key:"axiosGet",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return this[Gt]({method:"get",url:t,params:e,timeout:n,callback:a})}},{key:"axiosPost",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return this[Gt]({method:"post",url:t,data:e,timeout:n,callback:a})}},{key:Gt,value:function(t){t.timeout&&"number"==typeof t.timeout||delete t.timeout;var e=t.callback;return delete t.callback,t=Object.assign({},Dt,t),"function"==typeof e?this[Lt](t).then(e()):this[Lt](t)}},{key:Lt,value:function(t){return new Promise((function(e,n){St()(t).then((function(t){return 0===t.data.code?e(t.data.data):e("pageNotFound")})).catch((function(t){return t.response?n("发出了请求并且服务响应了状态码 : ".concat(t.response.status)):t.request?n("发出了请求但是没有接收到响应 : ".concat(t.request)):n("其他异常：".concat(t.message))}))}))}}]),t}(),Tt={setup:function(){var t=(0,a.Kh)({id:"5d42ac3d9c149c38248c8199"}),e=function(){var e=(0,b.A)(A().mark((function e(){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Et.axiosGet("/detail/selectById",{id:t.id});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.sV)((function(){d3.select("body"),e()})),{data:t,selectById:e}}},Mt={class:"page-not-found-wrapper"},Ft={setup:function(){(0,a.sV)((function(){-1===window.location.host.indexOf("localhost")&&(window.location.href="/404")}))}},Pt=[{path:"/",component:xt},{path:"/detail",component:(0,G.A)(Tt,[["render",function(t,e,n,r,i,s){return(0,a.uX)(),(0,a.CE)("div",kt,bt)}]])},{path:"/:pathMatch(.*)*",component:(0,G.A)(Ft,[["render",function(t,e,n,r,i,s){return(0,a.uX)(),(0,a.CE)("div",Mt," 额，找不到喔，是不是地址输错了捏？ ")}],["__scopeId","data-v-7588e2f8"]])}],Rt=n(4549);n(2256),window.d3=O;var jt=(0,r.aE)({history:(0,r.Bt)(),routes:Pt}),Ht=(0,a.Ef)({el:"#app-wrapper"});Ht.use(jt),Ht.use(Rt.A),Ht.mount("#app-wrapper")}},n={};function a(t){var r=n[t];if(void 0!==r)return r.exports;var i=n[t]={exports:{}};return e[t].call(i.exports,i,i.exports,a),i.exports}a.m=e,t=[],a.O=function(e,n,r,i){if(!n){var s=1/0;for(d=0;d<t.length;d++){n=t[d][0],r=t[d][1],i=t[d][2];for(var o=!0,l=0;l<n.length;l++)(!1&i||s>=i)&&Object.keys(a.O).every((function(t){return a.O[t](n[l])}))?n.splice(l--,1):(o=!1,i<s&&(s=i));if(o){t.splice(d--,1);var c=r();void 0!==c&&(e=c)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[n,r,i]},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,{a:e}),e},a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,i,s=n[0],o=n[1],l=n[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(l)var d=l(a)}for(e&&e(n);c<s.length;c++)i=s[c],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(d)},n=self.webpackChunkjson_vee=self.webpackChunkjson_vee||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var r=a.O(void 0,[233,602,116],(function(){return a(1080)}));r=a.O(r)}();